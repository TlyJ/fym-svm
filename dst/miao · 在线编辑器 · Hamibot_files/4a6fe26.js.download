(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{482:function(t,e,a){var i=a(490);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a(14).default)("d7f41806",i,!0,{sourceMap:!1})},486:function(t,e,a){"use strict";a.r(e);a(103);var i={name:"Tag",props:{label:{type:[String,Number],default:""},color:{type:String,default:""},tag:{type:String,default:"span"},link:{type:String,default:void 0}}},o=(a(489),a(3)),s=Object(o.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tag select-none",attrs:{color:this.color}},[e(this.tag,{tag:"component",staticClass:"text",attrs:{href:this.link}},[this._v(this._s(this.label))])],1)}),[],!1,null,"3eb34f2a",null);e.default=s.exports},489:function(t,e,a){"use strict";var i=a(482);a.n(i).a},490:function(t,e,a){(e=a(13)(!1)).push([t.i,".tag[data-v-3eb34f2a]{display:inline-flex;border-radius:3px;height:20px;margin:4px}.text[data-v-3eb34f2a]{display:inline-block;outline:none;padding:2px 0;line-height:1;font-size:14px;margin:0 4px;max-width:180px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}[color=standard][data-v-3eb34f2a]{--bg-opacity:1;background-color:#f4f5f7;background-color:rgba(244,245,247,var(--bg-opacity));--text-opacity:1;color:#42526e;color:rgba(66,82,110,var(--text-opacity))}[color=green][data-v-3eb34f2a]{background-color:#57d9a3;background-color:rgba(87,217,163,var(--bg-opacity))}[color=blue][data-v-3eb34f2a],[color=green][data-v-3eb34f2a]{--bg-opacity:1;--text-opacity:1;color:#172b4d;color:rgba(23,43,77,var(--text-opacity))}[color=blue][data-v-3eb34f2a]{background-color:#4c9aff;background-color:rgba(76,154,255,var(--bg-opacity))}[color=red][data-v-3eb34f2a]{background-color:#ff8f73;background-color:rgba(255,143,115,var(--bg-opacity))}[color=purple][data-v-3eb34f2a],[color=red][data-v-3eb34f2a]{--bg-opacity:1;--text-opacity:1;color:#172b4d;color:rgba(23,43,77,var(--text-opacity))}[color=purple][data-v-3eb34f2a]{background-color:#998dd9;background-color:rgba(153,141,217,var(--bg-opacity))}[color=grey][data-v-3eb34f2a]{--bg-opacity:1;background-color:#42526e;background-color:rgba(66,82,110,var(--bg-opacity));--text-opacity:1;color:#f4f5f7;color:rgba(244,245,247,var(--text-opacity))}[color=grey-yellow][data-v-3eb34f2a]{--bg-opacity:1;background-color:#091e42;background-color:rgba(9,30,66,var(--bg-opacity));--text-opacity:1;color:#ffe380;color:rgba(255,227,128,var(--text-opacity))}[color=teal][data-v-3eb34f2a]{background-color:#00c7e6;background-color:rgba(0,199,230,var(--bg-opacity))}[color=teal][data-v-3eb34f2a],[color=yellow][data-v-3eb34f2a]{--bg-opacity:1;--text-opacity:1;color:#172b4d;color:rgba(23,43,77,var(--text-opacity))}[color=yellow][data-v-3eb34f2a]{background-color:#ffc400;background-color:rgba(255,196,0,var(--bg-opacity))}[color=green-light][data-v-3eb34f2a]{--bg-opacity:1;background-color:#e3fcef;background-color:rgba(227,252,239,var(--bg-opacity));--text-opacity:1;color:#064;color:rgba(0,102,68,var(--text-opacity))}[color=blue-light][data-v-3eb34f2a]{--bg-opacity:1;background-color:#deebff;background-color:rgba(222,235,255,var(--bg-opacity));--text-opacity:1;color:#0747a6;color:rgba(7,71,166,var(--text-opacity))}[color=red-light][data-v-3eb34f2a]{--bg-opacity:1;background-color:#ffebe6;background-color:rgba(255,235,230,var(--bg-opacity));--text-opacity:1;color:#bf2600;color:rgba(191,38,0,var(--text-opacity))}[color=purple-light][data-v-3eb34f2a]{--bg-opacity:1;background-color:#eae6ff;background-color:rgba(234,230,255,var(--bg-opacity));--text-opacity:1;color:#403294;color:rgba(64,50,148,var(--text-opacity))}[color=grey-light][data-v-3eb34f2a]{background-color:#ebecf0;background-color:rgba(235,236,240,var(--bg-opacity))}[color=grey-light][data-v-3eb34f2a],[color=teal-light][data-v-3eb34f2a]{--bg-opacity:1;--text-opacity:1;color:#42526e;color:rgba(66,82,110,var(--text-opacity))}[color=teal-light][data-v-3eb34f2a]{background-color:#b3f5ff;background-color:rgba(179,245,255,var(--bg-opacity))}[color=yellow-light][data-v-3eb34f2a]{--bg-opacity:1;background-color:#fff0b3;background-color:rgba(255,240,179,var(--bg-opacity));--text-opacity:1;color:#42526e;color:rgba(66,82,110,var(--text-opacity))}",""]),t.exports=e},491:function(t,e,a){"use strict";a.r(e);a(104),a(103),a(27),a(54);var i=function(){return Math.random().toString(36).substring(2)},o={name:"ContentLoader",props:{speed:{type:Number,default:2},preserveAspectRatio:{type:String,default:"none"},baseUrl:{type:String,default:""},primaryColor:{type:String,default:"var(--ui-01)"},secondaryColor:{type:String,default:"var(--ui-03)"},primaryOpacity:{type:Number,default:1},secondaryOpacity:{type:Number,default:1},uniqueKey:{type:String,default:""},animate:{type:Boolean,default:!0},viewBox:{type:String,default:void 0},width:{type:[String,Number],default:"300px"},height:{type:[String,Number],default:"20px"}},computed:{fill:function(){return{fill:"url(".concat(this.baseUrl,"#").concat(this.idGradient,")")}},idClip:function(){return this.uniqueKey?"".concat(this.uniqueKey,"-idClip"):i()},idGradient:function(){return this.uniqueKey?"".concat(this.uniqueKey,"-idGradient"):i()},clipPath:function(){return"url(".concat(this.baseUrl,"#").concat(this.idClip,")")}}},s=a(3),n=Object(s.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{staticStyle:{display:"flex"},attrs:{viewBox:t.viewBox,width:t.width,height:t.height,version:"1.1",preserveAspectRatio:t.preserveAspectRatio}},[a("rect",{style:t.fill,attrs:{color:"yellow","clip-path":t.clipPath,x:"0",y:"0",width:"100%",height:"100%"}}),t._v(" "),a("defs",[a("clipPath",{attrs:{id:t.idClip}},[t.$slots.default?t._e():a("rect",{attrs:{x:"0",y:"0",rx:"3",ry:"3",width:"100%",height:"100%"}}),t._v(" "),t._t("default")],2),t._v(" "),a("linearGradient",{attrs:{id:t.idGradient}},[a("stop",{attrs:{offset:"0%","stop-color":t.primaryColor,"stop-opacity":t.primaryOpacity}},[t.animate?a("animate",{attrs:{attributeName:"offset",values:"-2; 1",dur:t.speed,repeatCount:"indefinite"}}):t._e()]),t._v(" "),a("stop",{attrs:{offset:"50%","stop-color":t.secondaryColor,"stop-opacity":t.secondaryOpacity}},[t.animate?a("animate",{attrs:{attributeName:"offset",values:"-1.5; 1.5",dur:t.speed,repeatCount:"indefinite"}}):t._e()]),t._v(" "),a("stop",{attrs:{offset:"100%","stop-color":t.primaryColor,"stop-opacity":t.primaryOpacity}},[t.animate?a("animate",{attrs:{attributeName:"offset",values:"-1; 2",dur:t.speed,repeatCount:"indefinite"}}):t._e()])],1)],1)])}),[],!1,null,null,null);e.default=n.exports},495:function(t,e,a){var i=a(521);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a(14).default)("cacf99f4",i,!0,{sourceMap:!1})},496:function(t,e,a){var i=a(523);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a(14).default)("5e8bf28b",i,!0,{sourceMap:!1})},497:function(t,e,a){var i=a(525);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a(14).default)("0a01316c",i,!0,{sourceMap:!1})},502:function(t,e,a){"use strict";a.r(e);a(103);var i={name:"Blanket",props:{zIndex:{type:Number,default:999}}},o=(a(520),a(3)),s=Object(o.a)(i,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"blanket",style:{zIndex:this.zIndex}},[this._t("default")],2)}),[],!1,null,"b985f068",null);e.default=s.exports},503:function(t,e,a){"use strict";a.r(e);var i={name:"PositionerAbsolute",props:{width:{type:String,default:"600px"}}},o=(a(522),a(3)),s=Object(o.a)(i,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"positioner",style:{width:this.width}},[this._t("default")],2)}),[],!1,null,"ad30f0c0",null);e.default=s.exports},507:function(t,e,a){"use strict";a.r(e);a(103);var i=a(502),o=a(503),s=a(180),n=a(181),r={name:"Modal",components:{Blanket:i.default,PositionerAbsolute:o.default,Header:s.default,Footer:n.default},props:{heading:{type:String,default:""},subheading:{type:String,default:""},appearance:{type:String,default:void 0},autoFocus:{type:Boolean,default:!1},actions:{type:Array,default:function(){return["Continue","Cancel"]}},pending:{type:Boolean,default:!1},shouldAllowSubmit:{type:Boolean,default:!0},width:{type:String,default:"600px"},zIndex:{type:Number,default:999},closeOnEsc:{type:Boolean,default:!0},hFull:{type:Boolean,default:!1}},data:function(){return{mounted:!1}},beforeMount:function(){document.addEventListener("keyup",this.onEsc)},beforeDestroy:function(){document.removeEventListener("keyup",this.onEsc)},methods:{onEsc:function(t){27===t.keyCode&&this.closeOnEsc&&!this.pending&&this.$emit("cancel")},onCancel:function(){this.$emit("cancel")},onSubmit:function(){this.$emit("submit")}}},l=(a(524),a(3)),c=Object(l.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal",appear:""}},[a("Blanket",{staticClass:"dialog",attrs:{"z-index":t.zIndex}},[a("PositionerAbsolute",{attrs:{width:t.width}},[a("form",{class:["modal-container",t.hFull?"h-full":""],attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[t._t("default",[a("header",{staticClass:"px-6 py-5 select-none"},[t._t("header",[a("Header",{attrs:{heading:t.heading,subheading:t.subheading,appearance:t.appearance}})])],2),t._v(" "),a("div",{class:["content px-6",t.hFull?"h-full":""]},[t._t("content")],2),t._v(" "),a("footer",{staticClass:"px-6 py-6 flex justify-end"},[a("div",{staticClass:"flex-grow"},[t._t("danger")],2),t._v(" "),t._t("footer",[t._t("progress"),t._v(" "),a("Footer",{attrs:{actions:t.actions,"auto-focus":t.autoFocus,appearance:t.appearance,"should-allow-submit":t.shouldAllowSubmit,pending:t.pending},on:{cancel:t.onCancel}})])],2)])],2)])],1)],1)}),[],!1,null,"432e6f6b",null);e.default=c.exports;installComponents(c,{Header:a(180).default,Header:a(180).default,Footer:a(181).default,Footer:a(181).default,PositionerAbsolute:a(503).default,Blanket:a(502).default})},520:function(t,e,a){"use strict";var i=a(495);a.n(i).a},521:function(t,e,a){(e=a(13)(!1)).push([t.i,".blanket[data-v-b985f068]{right:0;top:0;bottom:0;left:0;opacity:1;position:fixed;background:rgba(9,30,66,.54);transition:opacity .22s ease 0s}",""]),t.exports=e},522:function(t,e,a){"use strict";var i=a(496);a.n(i).a},523:function(t,e,a){(e=a(13)(!1)).push([t.i,".positioner[data-v-ad30f0c0]{display:flex;flex-direction:column;height:calc(100% - 120px);left:0;margin:0 auto;max-width:calc(100% - 60px);position:relative;right:0;top:60px;z-index:510;opacity:1;border-radius:3px;pointer-events:none;transition:transform .5s cubic-bezier(.23,1,.32,1) 0s,opacity .3s ease}",""]),t.exports=e},524:function(t,e,a){"use strict";var i=a(497);a.n(i).a},525:function(t,e,a){(e=a(13)(!1)).push([t.i,".modal-container[data-v-432e6f6b]{background-color:#fff;box-shadow:0 0 0 1px rgba(9,30,66,.08),0 2px 1px rgba(9,30,66,.08),0 0 20px -6px rgba(9,30,66,.31);color:#091e42;display:flex;flex-direction:column;max-height:100%;pointer-events:auto;border-radius:3px;outline:0;overflow:hidden}.content[data-v-432e6f6b]{overflow-y:auto;overflow-x:hidden;flex:1 1 auto}.modal-enter[data-v-432e6f6b],.modal-leave-active[data-v-432e6f6b]{opacity:0}.modal-enter .positioner[data-v-432e6f6b]{opacity:0;transform:translateY(20px)}.modal-leave-active .positioner[data-v-432e6f6b]{opacity:0;transform:translateY(-20px)}footer[data-v-432e6f6b],header[data-v-432e6f6b]{align-items:center;display:flex;z-index:1;box-shadow:none;flex:0 0 auto;transition:box-shadow .2s ease 0s}",""]),t.exports=e},544:function(t,e,a){"use strict";a.r(e);var i={components:{Popup:a(146).default},props:{boundariesElement:{type:[String,Function],default:"viewport"},placement:{type:String,default:"top"},offset:{type:Array,default:function(){return[0,8]}},closeOnOutsideClick:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},positionFixed:{type:Boolean,default:!1},title:{type:String,default:""},appearance:{type:String,default:"primary"},cancelText:{type:String,default:"取消"},confirmText:{type:String,default:"确认"}},data:function(){return{open:!1}},watch:{open:function(t){t?(document.addEventListener("click",this.onOutsideClick),document.addEventListener("keydown",this.onKeyDown)):(document.removeEventListener("click",this.onOutsideClick),document.removeEventListener("keydown",this.onKeyDown))}},beforeDestroy:function(){document.removeEventListener("click",this.onOutsideClick)},methods:{onTriggerClick:function(){this.open=!this.open},onOutsideClick:function(t){this.$refs["popconfirm-container"].contains(t.target)||this.closeOnOutsideClick&&(this.open=!1)},onKeyDown:function(t){27===t.keyCode&&this.closeOnEsc&&(this.open=!1)},onCancel:function(){this.open=!1,this.$emit("cancel")},onConfirm:function(){this.open=!1,this.$emit("confirm")}}},o=a(3),s=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"popconfirm-container"},[t._t("trigger",null,{isOpen:t.open,toggle:t.onTriggerClick}),t._v(" "),a("Popup",{ref:"popconfirm",attrs:{"is-open":t.open,offset:t.offset,"target-element":t.$refs["popconfirm-container"],"boundaries-element":t.boundariesElement,placement:t.placement,"position-fixed":t.positionFixed}},[a("div",{staticClass:"px-4 py-5 max-w-xs"},[a("div",{staticClass:"inline-flex items-center"},[a("svg",{staticClass:"fill-current h-5 min-w-5 text-y300 mr-2",attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M12 2c5.523 0 10 4.478 10 10s-4.477 10-10 10S2 17.522 2 12 6.477 2 12 2zm0 13.5a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm0-8.75A2.75 2.75 0 0 0 9.25 9.5a.75.75 0 0 0 1.493.102l.007-.102a1.25 1.25 0 1 1 2.5 0c0 .539-.135.805-.645 1.332l-.135.138c-.878.878-1.22 1.447-1.22 2.53a.75.75 0 0 0 1.5 0c0-.539.135-.805.645-1.332l.135-.138c.878-.878 1.22-1.447 1.22-2.53A2.75 2.75 0 0 0 12 6.75z"}})]),t._v(" "),a("span",[t._v(t._s(t.title))])]),t._v(" "),a("footer",{staticClass:"mt-3 flex flex-row justify-end"},[a("Button",{attrs:{appearance:"subtle",spacing:"compact"},on:{click:t.onCancel}},[t._v(t._s(t.cancelText))]),t._v(" "),a("Button",{attrs:{appearance:t.appearance,spacing:"compact"},on:{click:t.onConfirm}},[t._v(t._s(t.confirmText))])],1)])])],2)}),[],!1,null,null,null);e.default=s.exports;installComponents(s,{Button:a(33).default,Footer:a(181).default,Popup:a(146).default})},647:function(t,e,a){var i=a(774);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a(14).default)("1089f508",i,!0,{sourceMap:!1})},648:function(t,e,a){var i=a(776);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a(14).default)("0ba123c7",i,!0,{sourceMap:!1})},773:function(t,e,a){"use strict";var i=a(647);a.n(i).a},774:function(t,e,a){(e=a(13)(!1)).push([t.i,"aside[data-v-5c20b65d],div[data-v-5c20b65d],h2[data-v-5c20b65d]{border-color:#3b4252}.file[data-v-5c20b65d]:hover{background-color:#333a47;cursor:pointer}.active[data-v-5c20b65d]{background-color:#3b4252!important;cursor:default!important}.vue-codemirror[data-v-5c20b65d],.vue-codemirror .vue-codemirror[data-v-5c20b65d],.vue-codemirror[data-v-5c20b65d] .CodeMirror{height:100%}.CodeMirror-simplescroll-horizontal[data-v-5c20b65d],.CodeMirror-simplescroll-vertical[data-v-5c20b65d]{background:#3b4252!important}",""]),t.exports=e},775:function(t,e,a){"use strict";var i=a(648);a.n(i).a},776:function(t,e,a){(e=a(13)(!1)).push([t.i,'@media(min-width:500px){.schema-group[data-v-19c4c6ca]{display:flex}}@media(min-width:720px){.schema-group[data-v-19c4c6ca]{display:block}}@media(min-width:850px){.schema-group[data-v-19c4c6ca]{display:flex}}.schema-editor[data-v-19c4c6ca]{font-size:.85em;border-right:1px solid #eaecef;box-sizing:border-box;position:relative;min-height:22rem}.schema-editor .cm-editor[data-v-19c4c6ca],.schema-editor[data-v-19c4c6ca] .CodeMirror{height:100%}.schema-editor[data-v-19c4c6ca]:before{content:"模式";position:absolute;top:0;right:0;background-color:var(--ui-03);border-bottom-left-radius:.375rem;font-size:.75rem;padding-left:.5rem;padding-right:.5rem;z-index:10}@media(min-width:500px){.schema-editor[data-v-19c4c6ca]{width:50%}}@media(min-width:720px){.schema-editor[data-v-19c4c6ca]{width:auto}}@media(min-width:850px){.schema-editor[data-v-19c4c6ca]{width:50%}}.schema-example[data-v-19c4c6ca]{padding:1.5em 1em 1em;box-sizing:border-box;position:relative;border-top:1px solid #eaecef}.schema-example[data-v-19c4c6ca] .flex-wrapper{max-width:20em;display:flex}.schema-example[data-v-19c4c6ca] .flex-wrapper>.formulate-input{flex-grow:1}.schema-example[data-v-19c4c6ca] .flex-wrapper>.formulate-input.flex-item-small{width:5em;flex-basis:5em;flex-shrink:0}.schema-example[data-v-19c4c6ca] .flex-wrapper>.formulate-input:nth-child(odd){margin-right:1em}@media(min-width:500px){.schema-example[data-v-19c4c6ca]{border-top:0;width:50%}}@media(min-width:720px){.schema-example[data-v-19c4c6ca]{border-top:1px solid #eaecef;width:auto}}@media(min-width:850px){.schema-example[data-v-19c4c6ca]{border-top:0;width:50%}}.schema-example[data-v-19c4c6ca]:before{content:"预览"}.code--block[data-v-19c4c6ca]:before,.schema-example[data-v-19c4c6ca]:before{position:absolute;top:0;right:0;background-color:var(--ui-03);border-bottom-left-radius:.375rem;font-size:.75rem;padding-left:.5rem;padding-right:.5rem}.code--block[data-v-19c4c6ca]:before{content:"默认值"}',""]),t.exports=e},791:function(t,e,a){"use strict";a.r(e);a(103);var i={name:"FileListLoader",components:{ContentLoader:a(491).default},props:{items:{type:Number,default:6}}},o=a(3),s=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._l(t.items,(function(e){return a("ContentLoader",{key:e,attrs:{"view-box":"0 0 300 36",height:"36px",width:"300px",primaryColor:"#333a47",secondaryColor:"#434c5e"}},[a("rect",{attrs:{x:"0",y:"4",rx:3,ry:3,width:24,height:24}}),t._v(" "),a("rect",{attrs:{x:"36",y:"4",rx:3,ry:3,width:240,height:24}})])})),1)}),[],!1,null,"1bffcd2c",null);e.default=s.exports;installComponents(s,{ContentLoader:a(491).default})},792:function(t,e,a){"use strict";a.r(e);a(85),a(40),a(27),a(62);var i=[],o=[{name:"text_01",type:"text",label:"单行文本",validation:"required",help:"帮助说明"},{name:"textarea_01",type:"textarea",label:"多行文本",validation:"required",help:"帮助说明"},{name:"select_01",type:"select",label:"下拉选择",options:{a:"选项 A",b:"选项 B"},validation:"required",help:"帮助说明"},{name:"checkbox_01",type:"checkbox",label:"多选框",options:{c:"选项 C",d:"选项 D"}},{name:"checkbox_02",type:"checkbox",label:"单选框",help:"帮助说明"}],s=[{name:"TELEMETRY",type:"checkbox",label:"发送使用数据和错误报告",help:"帮助开发者改进脚本，这个报告会被认为是机密的，匿名的。"}],n={props:{schema:{type:Array,default:function(){return[]}},values:{type:Object,default:function(){}},example:{type:String,default:""}},data:function(){return{currentExample:this.example,error:!1,examples:{empty:{label:"空",schema:i},example1:{label:"常用",schema:o},example2:{label:"发送报告",schema:s}},options:{tabSize:2,mode:"application/json",gutters:["CodeMirror-lint-markers"],theme:"nord",lineNumbers:!0,autoCloseBrackets:!0,styleActiveLine:!0,lineWrapping:!0,line:!0}}},computed:{formSchema:{get:function(){return this.schema},set:function(t){this.$emit("update:schema",t)}},formValues:{get:function(){return this.values},set:function(t){this.error||this.$emit("update:values",t)}},code:{get:function(){try{return JSON.stringify(this.formSchema,null,2)}catch(t){return""}},set:function(t){try{if(!t)return this.$emit("update:schema",[]),this.$emit("update:values",{}),void(this.error=" ");var e=JSON.parse(t);Array.isArray(e)?(this.formSchema=e,this.error=null):this.error="模式不是数组"}catch(t){this.error="模式存在语法错误"}}},exampleOptions:function(){var t=this;return Object.keys(this.examples).map((function(e){return{label:t.examples[e].label,value:e}}))}},watch:{currentExample:function(t){var e=this;t&&(this.formValues={},this.code=JSON.stringify(this.examples[t].schema,null,2),this.$nextTick((function(){e.currentExample=""})))}},methods:{}},r=(a(775),a(3)),l=Object(r.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"schema-examples flex flex-col w-full border border-ui-03 rounded"},[a("client-only",[a("div",{staticClass:"px-4 py-3 border-b border-ui-03"},[a("FormulateInput",{attrs:{type:"select",placeholder:"选择配置模式模板",help:"可以随意进行编辑，实时预览，具体用法参见开发文档",options:t.exampleOptions},model:{value:t.currentExample,callback:function(e){t.currentExample=e},expression:"currentExample"}})],1),t._v(" "),a("div",{staticClass:"schema-group"},[a("div",{staticClass:"schema-editor"},[a("codemirror",{staticClass:"cm-editor",attrs:{options:t.options},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1),t._v(" "),a("div",{staticClass:"schema-example"},[t.error?a("span",{staticClass:"text-support-01"},[t._v(t._s(t.error))]):a("FormulateForm",{attrs:{schema:t.formSchema},model:{value:t.formValues,callback:function(e){t.formValues=e},expression:"formValues"}})],1)]),t._v(" "),a("code",{staticClass:"w-full bg-ui-01 border-t border-ui-03 cursor-default relative px-4 py-3 code--block"},[t._v(t._s(t.formValues))])])],1)}),[],!1,null,"19c4c6ca",null);e.default=l.exports},858:function(t,e,a){"use strict";a.r(e);a(23),a(32),a(25),a(86),a(182),a(34),a(46),a(47),a(40),a(27),a(53),a(111),a(145),a(26),a(59);var i=a(55),o=a(16),s=(a(36),a(7)),n=a(48);function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){Object(o.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var c={layout:"editor",asyncData:function(t){return Object(s.a)(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.params,e.abrupt("return",{slug:a.slug});case 2:case"end":return e.stop()}}),e)})))()},data:function(){var t;return t={isLoading:!0,isSubmitting:!1,title:"在线编辑器 · Hamibot",active:null,opening:null,original:null,modified:null,openType:null,waitOpenIndex:null,showDiscardModal:!1},Object(o.a)(t,"isSubmitting",null),Object(o.a)(t,"saveBeforeRun",!1),Object(o.a)(t,"rememberLastRobot",null),Object(o.a)(t,"lastRobot",null),Object(o.a)(t,"pendingRun",null),Object(o.a)(t,"showSidebar",!0),Object(o.a)(t,"name",""),Object(o.a)(t,"files",[]),Object(o.a)(t,"configuration",{}),Object(o.a)(t,"schema",[]),Object(o.a)(t,"defaultValues",{}),Object(o.a)(t,"code",""),Object(o.a)(t,"options",{mode:"text/javascript",theme:"nord",tabSize:2,gutters:["CodeMirror-lint-markers"],lineNumbers:!0,autoCloseBrackets:!0,styleActiveLine:!0,line:!0,readOnly:!1,extraKeys:{"Ctrl-/":"toggleComment","Shift-Alt-A":function(t){t.execCommand("toggleComment")}},continueComments:!0,scrollbarStyle:"simple"}),t},computed:l(l({},Object(n.b)("socket",["isJoined"])),Object(n.b)("robot",["robotCount","onlines"])),watch:{isJoined:function(t,e){t?this.init():this.isSubmitting&&(this.isSubmitting=!1)},code:function(t,e){this.compare(t)},schema:function(t,e){var a=this.defaultValues;this.compare(JSON.stringify({schema:t,defaultValues:a}))},defaultValues:function(t,e){var a=this.schema;this.compare(JSON.stringify({schema:a,defaultValues:t}))},isSubmitting:function(t,e){e&&!t&&null!==this.waitOpenIndex&&(this.showDiscardModal=!1,!this.modified&&this.open(this.waitOpenIndex))},saveBeforeRun:function(t,e){!t&&this.pendingRun&&(this.pendingRun=null),this.storeConfig()},rememberLastRobot:function(t,e){t||(this.lastRobot=null)},onlines:function(t,e){if(this.lastRobot){for(var a=!0,i=0;i<t.length;i++)if(t[i]._id===this.lastRobot._id){a=!1;break}this.$set(this.lastRobot,"offline",a)}}},head:function(){return{title:this.title}},beforeMount:function(){var t=this;this.$socket.on("script:pull:success",(function(e){t.pull(e),t.$store.commit("script/add",[e])})),this.$socket.on("script:pull:fail",(function(e){var a=e.message;404!==e.code?t.$toast.error(a||"载入失败"):t.$nuxt.error({statusCode:404})})),this.$socket.on("script:push:success",(function(){t.saveBeforeRun&&t.pendingRun&&t.run(t.pendingRun);var e=t.openType,a=(t.code,t.schema),i=t.defaultValues;switch(e){case"file":t.original=t.code;break;case"config":t.original=JSON.stringify({schema:a,defaultValues:i});break;default:return}t.setModified(!1),t.$nextTick((function(){t.opening=!1,t.options.readOnly=!1,t.isSubmitting=!1}))})),this.$socket.on("script:push:fail",(function(e){var a=e.message;t.opening=!1,t.options.readOnly=!1,setTimeout((function(){return t.isSubmitting=!1}),3e3),t.$toast.error(a||"保存失败")})),document.addEventListener("keydown",this.onKeydown)},mounted:function(){this.isJoined&&this.init(),this.restoreConfig()},beforeDestroy:function(){this.$socket.off("script:pull:success"),this.$socket.off("script:pull:fail"),this.$socket.off("script:push:success"),this.$socket.off("script:push:fail"),document.removeEventListener("keydown",this.onKeydown)},methods:{init:function(){null===this.active&&this.$socket.emit("b:script:pull",{_id:this.slug})},onKeydown:function(t){83===t.keyCode&&t.ctrlKey&&this.modified&&(t.preventDefault(),this.save())},handleFileInput:function(t){var e=this,a=t.target.files[0],i=a.name,o=a.type,s=a.size,n=a.webkitRelativePath.split("/"),r=(n.shift(),n.join("/")),l=(n.pop(),n.join("/"));s>3145728?this.$toast.error("文件大小超过 ".concat(3,"MB")):(function(t){var e=new FileReader;return new Promise((function(a,i){e.onerror=function(){e.abort(),i(new DOMException("Problem parsing input file."))},e.onload=function(){a(e.result)},e.readAsText(t)}))}(a).then((function(t){e.files.push({filename:i,type:o,size:s,dir:l,path:r,text:t})})).catch((function(t){e.$toast.error("文件打开失败")})),t.target.value="")},pull:function(t){var e=this,a=t.files,i=t.configuration,o=t.name;a.push({filename:"配置模式",type:"config"}),this.name=o,this.title=o+" · "+this.title,this.files=a,this.configuration=i,this.$nextTick((function(){for(var t=0;t<a.length;t++){if("application/javascript"===a[t].type){e.open(t);break}}e.isLoading=!1}))},push:function(){var t=this.slug,e=this.openType,a=this.active,i=this.files,o=this.configuration;switch(e){case"file":this.$socket.emit("b:script:push",{_id:t,type:e,file:i[a]});break;case"config":this.$socket.emit("b:script:push",{_id:t,type:e,configuration:o});break;default:return}},goBack:function(){if(this.modified)return this.waitOpenIndex="back",void(this.showDiscardModal=!0);this.$router.push("/dashboard/scripts/console")},open:function(t){var e=this;if("back"!==t){if(!this.opening){var a=this.files,i=this.active,o=this.modified;if(null!==i){if(o)return this.waitOpenIndex=t,void(this.showDiscardModal=!0);this.$set(this.files[i],"active",!1)}this.opening=!0,this.$set(this.files[t],"active",!0),this.active=t;var s=a[t],n=s.type,r=s.text;switch(n){case"application/javascript":this.setCode(r,"text/javascript");break;case"application/json":this.setCode(r,"application/json");break;case"config":return void this.setConfig();default:this.code="不支持编辑",this.options.readOnly="nocursor",this.$nextTick((function(){e.original=e.code,e.opening=!1}))}this.waitOpenIndex=null}}else this.$router.push("/dashboard/scripts/console")},setCode:function(t,e){var a=this;this.openType="file",this.options.mode=e,this.options.readOnly=!1,this.code=t,this.$nextTick((function(){a.original=a.code,a.opening=!1}))},setConfig:function(){var t=this;this.openType="config";var e=this.configuration,a=e.schema,i=e.defaultValues;this.schema=a,this.defaultValues=i,this.original=JSON.stringify({schema:a,defaultValues:i}),this.$nextTick((function(){t.opening=!1}))},compare:function(t){this.opening||(t===this.original?this.setModified(!1):this.setModified(!0))},save:function(){var t=this;if(!this.isSubmitting){if(this.isSubmitting=!0,this.opening=!0,this.options.readOnly="nocursor","file"===this.openType){if(this.code.length>3145728)return this.saveFailed("文件大小超过 ".concat(3,"MB"));this.$set(this.files[this.active],"text",this.code)}else if("config"===this.openType){var e=this.schema,a=this.defaultValues;if(e.length>50)return this.saveFailed("配置数量超过限制");for(var o=0;o<e.length;o++){for(var s=e[o],n=(s.name,s.type,s.options),r=Object.keys(s),l=0;l<r.length;l++){var c=r[l];if(c.includes("."))return this.saveFailed('无法使用 "." 作为键名');if(c.includes("$"))return this.saveFailed('无法使用 "$" 作为键名')}if(n&&"object"===Object(i.a)(n))for(var u=Object.keys(n),d=0;d<u.length;d++){var p=u[d];if(p.includes("."))return this.saveFailed('无法使用 "." 作为键名');if(p.includes("$"))return this.saveFailed('无法使用 "$" 作为键名')}}if(JSON.stringify(a).length>3145728)return this.saveFailed("配置大小超过 ".concat(3,"MB"));this.configuration={schema:e,defaultValues:a}}this.$nextTick((function(){t.push()}))}},saveFailed:function(t){var e=this;this.$toast.error(t||"保存失败"),this.opening=!1,this.options.readOnly=!1,setTimeout((function(){return e.isSubmitting=!1}),3e3)},restore:function(){var t=this;if(this.opening=!0,"file"===this.openType)this.code=this.original;else if("config"===this.openType){var e=this.configuration,a=e.schema,i=e.defaultValues;this.schema=a,this.defaultValues=i}this.setModified(!1),this.$nextTick((function(){t.opening=!1}))},saveChanges:function(){this.save()},setModified:function(t){this.$set(this.files[this.active],"modified",t),this.modified=t},discardChanges:function(){var t=this;this.setModified(!1),this.$nextTick((function(){t.showDiscardModal=!1,null!==t.waitOpenIndex&&t.open(t.waitOpenIndex)}))},robotBusy:function(){var t=this;this.isSubmitting=!0,setTimeout((function(){t.isSubmitting=!1}),500)},run:function(t){if(this.saveBeforeRun&&!this.pendingRun&&this.modified)return this.pendingRun=t,void this.save();this.robotBusy(),this.$socket.emit("b:script:run",{scriptId:this.slug,robots:t.robots}),this.saveBeforeRun&&(this.pendingRun=null),this.rememberLastRobot&&!this.lastRobot&&(this.lastRobot=t)},stop:function(t){this.robotBusy(),this.$socket.emit("b:script:stop",{scriptId:this.slug,robots:t.robots}),this.rememberLastRobot&&!this.lastRobot&&(this.lastRobot=t)},storeConfig:function(){var t=this.saveBeforeRun;localStorage.setItem("editor.saveBeforeRun",t)},restoreConfig:function(){var t=localStorage.getItem("editor.saveBeforeRun");this.saveBeforeRun="true"===t},toggleSidebar:function(){this.showSidebar=!this.showSidebar}}},u=(a(773),a(3)),d=Object(u.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex flex-col md:flex-row h-full flex-grow text-grey-100",staticStyle:{background:"#2e3440",color:"#d8dee9"}},[a("aside",{directives:[{name:"show",rawName:"v-show",value:t.showSidebar,expression:"showSidebar"}],staticClass:"w-full md:w-2/12 min-w-80 border-r"},[a("div",{staticClass:"w-full"},[a("div",{staticClass:"px-4 py-2 border-b flex items-center justify-between"},[a("Button",{attrs:{appearance:"primary"},on:{click:t.goBack}},[t._v("返回")]),t._v(" "),a("div",{staticClass:"-mr-2"},[a("Button",{attrs:{appearance:"subtle"},on:{click:t.toggleSidebar}},[a("svg",{staticClass:"fill-current h-5 min-w-5",attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M19.25 3.998A2.75 2.75 0 0 1 22 6.748v10.504a2.75 2.75 0 0 1-2.75 2.75H4.75A2.75 2.75 0 0 1 2 17.252V6.748a2.75 2.75 0 0 1 2.75-2.75h14.5zm-11.246 1.5H4.75c-.69 0-1.25.56-1.25 1.25v10.504c0 .69.56 1.25 1.25 1.25h3.254V5.496zm11.246 0H9.504V18.5h9.746c.69 0 1.25-.559 1.25-1.25V6.749c0-.69-.56-1.25-1.25-1.25zM14.356 9.15a.5.5 0 0 1 0 .707l-1.646 1.645 4.785-.001a.5.5 0 0 1 0 1l-4.785.001 1.646 1.647a.5.5 0 0 1-.707.707l-2.499-2.5a.5.5 0 0 1 0-.707l2.5-2.499a.5.5 0 0 1 .706 0z"}})])])],1)],1),t._v(" "),a("div",{staticClass:"border-b"},[t.isLoading?t._e():a("div",{staticClass:"border-b px-4 py-2 inline-flex items-center w-full cursor-default"},[a("h2",{staticClass:"text-sm font-semibold whitespace-no-wrap"},[t._v("文件")]),t._v(" "),a("span",{staticClass:"w-10/12 text-sm text-right ml-4 truncate",staticStyle:{color:"#4c566a"}},[t._v("\n            "+t._s(t.name)+"\n          ")])]),t._v(" "),t.isLoading?a("FileListLoader",{staticClass:"px-4 py-4 mb-4"}):a("div",{staticClass:"py-2 mb-4"},t._l(t.files,(function(e,i){return a("div",{key:i,staticClass:"file flex flex-row items-center justify-between px-4 py-1",class:{active:e.active},on:{click:function(a){!e.active&&t.open(i)}}},[-1!==e.type.indexOf("javascript")?a("svg",{staticClass:"fill-current h-5 min-w-5 text-y100",attrs:{viewBox:"0 0 32 32"}},[a("path",{attrs:{d:"M18.774 19.7a3.727 3.727 0 0 0 3.376 2.078c1.418 0 2.324-.709 2.324-1.688 0-1.173-.931-1.589-2.491-2.272l-.856-.367c-2.469-1.052-4.11-2.37-4.11-5.156 0-2.567 1.956-4.52 5.012-4.52A5.058 5.058 0 0 1 26.9 10.52l-2.665 1.711a2.327 2.327 0 0 0-2.2-1.467 1.489 1.489 0 0 0-1.638 1.467c0 1.027.636 1.442 2.1 2.078l.856.366c2.908 1.247 4.549 2.518 4.549 5.376 0 3.081-2.42 4.769-5.671 4.769a6.575 6.575 0 0 1-6.236-3.5zM6.686 20c.538.954 1.027 1.76 2.2 1.76 1.124 0 1.834-.44 1.834-2.15V7.975h3.422v11.683c0 3.543-2.078 5.156-5.11 5.156A5.312 5.312 0 0 1 3.9 21.688z"}})]):-1!==e.type.indexOf("image")?a("svg",{staticClass:"fill-current h-5 min-w-5 text-p100",attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M11.475 13.718l.083-.071a.75.75 0 0 1 .874-.007l.093.078 6.928 6.8A3.235 3.235 0 0 1 17.75 21H6.25a3.235 3.235 0 0 1-1.703-.481l6.928-6.801.083-.071-.083.07zM17.75 3A3.25 3.25 0 0 1 21 6.25v11.5c0 .627-.178 1.213-.485 1.71l-6.939-6.812-.128-.117a2.25 2.25 0 0 0-2.889-.006l-.135.123-6.939 6.811A3.235 3.235 0 0 1 3 17.75V6.25A3.25 3.25 0 0 1 6.25 3h11.5zm-1.998 3a2.252 2.252 0 1 0 0 4.504 2.252 2.252 0 0 0 0-4.504zm0 1.5a.752.752 0 1 1 0 1.504.752.752 0 0 1 0-1.504z"}})]):-1!==e.type.indexOf("json")?a("svg",{staticClass:"fill-current h-5 min-w-5 text-y100",attrs:{viewBox:"0 0 32 32"}},[a("path",{attrs:{d:"M4.014 14.976a2.51 2.51 0 0 0 1.567-.518 2.377 2.377 0 0 0 .805-1.358 15.261 15.261 0 0 0 .214-2.944q.012-2.085.075-2.747a5.236 5.236 0 0 1 .418-1.686 3.025 3.025 0 0 1 .755-1.018A3.046 3.046 0 0 1 9 4.125 6.762 6.762 0 0 1 10.544 4h.7v1.96h-.387a2.338 2.338 0 0 0-1.723.468 3.4 3.4 0 0 0-.425 2.092 36.054 36.054 0 0 1-.137 4.133 4.734 4.734 0 0 1-.768 2.06A4.567 4.567 0 0 1 6.1 16a3.809 3.809 0 0 1 1.992 1.754 8.861 8.861 0 0 1 .618 3.865q0 2.435.05 2.9a1.755 1.755 0 0 0 .504 1.181 2.639 2.639 0 0 0 1.592.337h.387V28h-.7a5.655 5.655 0 0 1-1.773-.2 2.97 2.97 0 0 1-1.324-.93 3.353 3.353 0 0 1-.681-1.63 24.175 24.175 0 0 1-.165-3.234 16.469 16.469 0 0 0-.214-3.106 2.408 2.408 0 0 0-.805-1.361 2.489 2.489 0 0 0-1.567-.524zM27.986 17.011a2.489 2.489 0 0 0-1.567.524 2.408 2.408 0 0 0-.805 1.361 16.469 16.469 0 0 0-.212 3.109 24.175 24.175 0 0 1-.169 3.234 3.353 3.353 0 0 1-.681 1.63 2.97 2.97 0 0 1-1.324.93 5.655 5.655 0 0 1-1.773.2h-.7V26.04h.387a2.639 2.639 0 0 0 1.592-.337 1.755 1.755 0 0 0 .506-1.186q.05-.462.05-2.9a8.861 8.861 0 0 1 .618-3.865A3.809 3.809 0 0 1 25.9 16a4.567 4.567 0 0 1-1.7-1.286 4.734 4.734 0 0 1-.768-2.06 36.054 36.054 0 0 1-.137-4.133 3.4 3.4 0 0 0-.425-2.092 2.338 2.338 0 0 0-1.723-.468h-.387V4h.7a6.762 6.762 0 0 1 1.54.125 3.046 3.046 0 0 1 1.149.581 3.025 3.025 0 0 1 .755 1.018 5.236 5.236 0 0 1 .418 1.686q.062.662.075 2.747a15.261 15.261 0 0 0 .212 2.947 2.377 2.377 0 0 0 .805 1.355 2.51 2.51 0 0 0 1.567.518z"}})]):"config"===e.type?a("svg",{staticClass:"fill-current h-5 min-w-5 text-n100",attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M8.75 13.5a3.251 3.251 0 0 1 3.163 2.5h9.337a.75.75 0 0 1 .102 1.493l-.102.007h-9.337a3.251 3.251 0 0 1-6.326 0H2.75a.75.75 0 0 1-.102-1.493L2.75 16h2.837a3.251 3.251 0 0 1 3.163-2.5zm6.5-9.5a3.251 3.251 0 0 1 3.163 2.5h2.837a.75.75 0 0 1 .102 1.493L21.25 8h-2.837a3.251 3.251 0 0 1-6.326 0H2.75a.75.75 0 0 1-.102-1.493L2.75 6.5h9.337A3.251 3.251 0 0 1 15.25 4z"}})]):a("svg",{staticClass:"fill-current h-5 min-w-5 text-n100",attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M12 2v6a2 2 0 0 0 2 2h6v10a2 2 0 0 1-2 2h-6.81A6.5 6.5 0 0 0 4 11.498V4a2 2 0 0 1 2-2h6z"}}),t._v(" "),a("path",{attrs:{d:"M13.5 2.5V8a.5.5 0 0 0 .5.5h5.5l-6-6zM1 17.5a5.5 5.5 0 1 0 11 0 5.5 5.5 0 0 0-11 0zm4.75 3.25a.75.75 0 1 1 1.5 0 .75.75 0 0 1-1.5 0zM4.5 16a2 2 0 1 1 4 0c0 .73-.212 1.14-.754 1.708l-.264.27-.116.124C7.083 18.421 7 18.63 7 19a.5.5 0 0 1-1 0c0-.73.212-1.14.754-1.708l.264-.27.116-.124c.283-.319.366-.527.366-.898a1 1 0 1 0-2 0 .5.5 0 0 1-1 0z"}})]),t._v(" "),a("div",{staticClass:"ml-1 flex-grow inline-flex items-center justify-between"},[a("span",[t._v(t._s(e.filename))]),t._v(" "),e.modified?a("span",{staticClass:"ml-1 w-3 h-3 rounded-full bg-n200"}):t._e()])])})),0)],1)])]),t._v(" "),t.isLoading?a("div",{staticClass:"w-full flex flex-col items-center justify-center mt-12 mb-24 px-4",staticStyle:{background:"#2e3440",color:"#4c566a"}},[a("Spinner"),t._v(" "),a("span",{staticClass:"text-sm mt-8 font-mono"},[t._v("> Hello, World!")])],1):a("main",{staticClass:"w-full flex flex-col z-10 h-full max-h-screen overflow-hidden",class:{showSidebar:"md:w-10/12"},staticStyle:{background:"#2e3440",color:"#2e3440"}},[a("div",{staticClass:"flex items-start justify-between px-4 py-2 border-b"},[a("div",{staticClass:"flex items-center flex-wrap -mx-1 -my-1 lg:my-0"},[a("div",{staticClass:"mx-1 my-1 lg:my-0 flex items-center"},[a("div",{staticClass:"-ml-2 mr-2"},[a("Button",{directives:[{name:"show",rawName:"v-show",value:!t.showSidebar,expression:"!showSidebar"}],attrs:{appearance:"subtle"},on:{click:t.toggleSidebar}},[a("svg",{staticClass:"fill-current h-5 min-w-5",attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M19.25 3.998a2.75 2.75 0 0 1 2.745 2.583l.005.167v10.504a2.75 2.75 0 0 1-2.582 2.745l-.168.005H4.75a2.75 2.75 0 0 1-2.745-2.583L2 17.252V6.748a2.75 2.75 0 0 1 2.582-2.745l.168-.005h14.5zm0 1.5h-3.254v13.004h3.254a1.25 1.25 0 0 0 1.244-1.122l.006-.128V6.748a1.25 1.25 0 0 0-1.122-1.243l-.128-.007zm-4.754 0H4.75A1.25 1.25 0 0 0 3.506 6.62l-.006.128v10.504c0 .647.492 1.18 1.122 1.243l.128.007h9.746V5.498zM10.35 9.145l2.499 2.5a.5.5 0 0 1 0 .707l-2.5 2.499a.5.5 0 1 1-.706-.707l1.645-1.646-4.784.002a.5.5 0 0 1 0-1l4.785-.002-1.646-1.646a.5.5 0 1 1 .707-.707z"}})])])],1),t._v(" "),1===t.robotCount?a("Button",{attrs:{"is-loading":!t.isJoined||t.isSubmitting,"is-disabled":0===t.onlines.length},on:{click:function(e){return t.run(t.onlines[0])}}},[a("div",{staticClass:"flex flex-row items-center"},[a("svg",{staticClass:"fill-current h-5 w-5",attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2zm0 1.5a8.5 8.5 0 1 0 0 17 8.5 8.5 0 0 0 0-17zM9.053 8.585a.5.5 0 0 1 .587-.256l.084.033 6.382 3.19a.5.5 0 0 1 .076.848l-.076.047-6.382 3.191a.5.5 0 0 1-.716-.357L9 15.19V8.809a.5.5 0 0 1 .053-.224z"}})]),t._v(" "),a("span",{staticClass:"ml-2"},[t._v("运行")])])]):t.lastRobot?a("Button",{attrs:{"is-loading":!t.isJoined||t.isSubmitting,"is-disabled":t.lastRobot.offline},on:{click:function(e){return t.run(t.lastRobot)}}},[a("div",{staticClass:"flex flex-row items-center"},[a("svg",{staticClass:"fill-current h-5 w-5",attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2zm0 1.5a8.5 8.5 0 1 0 0 17 8.5 8.5 0 0 0 0-17zM9.053 8.585a.5.5 0 0 1 .587-.256l.084.033 6.382 3.19a.5.5 0 0 1 .076.848l-.076.047-6.382 3.191a.5.5 0 0 1-.716-.357L9 15.19V8.809a.5.5 0 0 1 .053-.224z"}})]),t._v(" "),a("span",{staticClass:"ml-2"},[t._v("运行")])])]):a("Dropdown",{staticClass:"text-left",attrs:{label:"运行"},scopedSlots:t._u([{key:"trigger",fn:function(e){var i=e.toggle,o=e.isOpen;return a("div",{},[a("Button",{attrs:{"is-loading":!t.isJoined||t.isSubmitting,"is-disabled":0===t.onlines.length,"is-selected":o},on:{click:i}},[a("div",{staticClass:"flex flex-row items-center"},[a("svg",{staticClass:"fill-current h-5 w-5",attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2zm0 1.5a8.5 8.5 0 1 0 0 17 8.5 8.5 0 0 0 0-17zM9.053 8.585a.5.5 0 0 1 .587-.256l.084.033 6.382 3.19a.5.5 0 0 1 .076.848l-.076.047-6.382 3.191a.5.5 0 0 1-.716-.357L9 15.19V8.809a.5.5 0 0 1 .053-.224z"}})]),t._v(" "),a("span",{staticClass:"ml-2"},[t._v("运行")])])])],1)}}])},[t._v(" "),t._l(t.onlines,(function(e,i){return a("DropdownItem",{key:i,on:{click:function(a){return t.run(e)}}},[a("div",{staticClass:"inline-flex items-center"},[e.isTag?a("svg",{staticClass:"fill-current h-5 min-w-5 opacity-50 mr-2",attrs:{viewBox:"0 0 20 20"}},[a("path",{attrs:{d:"M11.13 2l4.89.032A2 2 0 0 1 18 3.881l.006.148.008 4.95a2 2 0 0 1-.467 1.287l-.119.13-6.63 6.631a2 2 0 0 1-2.702.117l-.127-.117L3.02 12.08a2 2 0 0 1-.115-2.703l.117-.127 6.682-6.665a2 2 0 0 1 1.248-.577L11.13 2zm-.007 1a1 1 0 0 0-.613.205l-.1.087-6.682 6.665a1 1 0 0 0-.084 1.32l.083.095 4.949 4.948a1 1 0 0 0 1.32.083l.094-.083 6.63-6.63a1 1 0 0 0 .285-.578l.009-.131-.008-4.95a1 1 0 0 0-.877-.992l-.116-.007L11.123 3zM14 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"}})]):t._e(),t._v(" "),a("span",[t._v(t._s(e.name))]),t._v(" "),e.isTag&&e.count>1?a("span",{staticClass:"ml-1"},[a("Tag",{attrs:{label:e.count,color:"blue-light"}})],1):t._e()])])}))],2)],1),t._v(" "),a("div",{staticClass:"mx-1 my-1 lg:my-0"},[1===t.robotCount?a("Button",{attrs:{"is-loading":!t.isJoined||t.isSubmitting,"is-disabled":0===t.onlines.length},on:{click:function(e){return t.stop(t.onlines[0])}}},[a("div",{staticClass:"flex flex-row items-center"},[a("svg",{staticClass:"fill-current h-4 w-4",attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M4.75 3A1.75 1.75 0 0 0 3 4.75v14.5c0 .966.784 1.75 1.75 1.75h14.5A1.75 1.75 0 0 0 21 19.25V4.75A1.75 1.75 0 0 0 19.25 3H4.75z"}})]),t._v(" "),a("span",{staticClass:"ml-2"},[t._v("停止")])])]):t.lastRobot?a("Button",{attrs:{"is-loading":!t.isJoined||t.isSubmitting,"is-disabled":t.lastRobot.offline},on:{click:function(e){return t.stop(t.lastRobot)}}},[a("div",{staticClass:"flex flex-row items-center"},[a("svg",{staticClass:"fill-current h-4 w-4",attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M4.75 3A1.75 1.75 0 0 0 3 4.75v14.5c0 .966.784 1.75 1.75 1.75h14.5A1.75 1.75 0 0 0 21 19.25V4.75A1.75 1.75 0 0 0 19.25 3H4.75z"}})]),t._v(" "),a("span",{staticClass:"ml-2"},[t._v("停止")])])]):a("Dropdown",{staticClass:"text-left",attrs:{label:"停止"},scopedSlots:t._u([{key:"trigger",fn:function(e){var i=e.toggle,o=e.isOpen;return a("div",{},[a("Button",{attrs:{"is-loading":!t.isJoined||t.isSubmitting,"is-disabled":0===t.onlines.length,"is-selected":o},on:{click:i}},[a("div",{staticClass:"flex flex-row items-center"},[a("svg",{staticClass:"fill-current h-4 w-4",attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M4.75 3A1.75 1.75 0 0 0 3 4.75v14.5c0 .966.784 1.75 1.75 1.75h14.5A1.75 1.75 0 0 0 21 19.25V4.75A1.75 1.75 0 0 0 19.25 3H4.75z"}})]),t._v(" "),a("span",{staticClass:"ml-2"},[t._v("停止")])])])],1)}}])},[t._v(" "),t._l(t.onlines,(function(e,i){return a("DropdownItem",{key:i,on:{click:function(a){return t.stop(e)}}},[a("div",{staticClass:"inline-flex items-center"},[e.isTag?a("svg",{staticClass:"fill-current h-5 min-w-5 opacity-50 mr-2",attrs:{viewBox:"0 0 20 20"}},[a("path",{attrs:{d:"M11.13 2l4.89.032A2 2 0 0 1 18 3.881l.006.148.008 4.95a2 2 0 0 1-.467 1.287l-.119.13-6.63 6.631a2 2 0 0 1-2.702.117l-.127-.117L3.02 12.08a2 2 0 0 1-.115-2.703l.117-.127 6.682-6.665a2 2 0 0 1 1.248-.577L11.13 2zm-.007 1a1 1 0 0 0-.613.205l-.1.087-6.682 6.665a1 1 0 0 0-.084 1.32l.083.095 4.949 4.948a1 1 0 0 0 1.32.083l.094-.083 6.63-6.63a1 1 0 0 0 .285-.578l.009-.131-.008-4.95a1 1 0 0 0-.877-.992l-.116-.007L11.123 3zM14 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"}})]):t._e(),t._v(" "),a("span",[t._v(t._s(e.name))]),t._v(" "),e.isTag&&e.count>1?a("span",{staticClass:"ml-1"},[a("Tag",{attrs:{label:e.count,color:"blue-light"}})],1):t._e()])])}))],2)],1),t._v(" "),a("div",{staticClass:"my-1 px-0 lg:px-2 flex items-center flex-wrap"},[a("div",{staticClass:"mx-2"},[a("FormulateInput",{attrs:{type:"checkbox",label:"运行前自动保存"},model:{value:t.saveBeforeRun,callback:function(e){t.saveBeforeRun=e},expression:"saveBeforeRun"}})],1),t._v(" "),a("div",{staticClass:"mx-2"},[t.robotCount>1?a("FormulateInput",{attrs:{type:"checkbox",label:t.lastRobot?"当前选择："+t.lastRobot.name:"记住机器人选择"},model:{value:t.rememberLastRobot,callback:function(e){t.rememberLastRobot=e},expression:"rememberLastRobot"}}):t._e()],1)])]),t._v(" "),a("div",{staticClass:"flex items-center justify-end flex-wrap -mx-1 -my-1 lg:my-0"},[a("div",{staticClass:"mx-1 my-1 lg:my-0"},[a("Popconfirm",{attrs:{title:"请确认是否要撤销修改？",placement:"top-start",appearance:"warning",confirmText:"撤销"},on:{confirm:t.restore},scopedSlots:t._u([{key:"trigger",fn:function(e){var i=e.toggle,o=e.isOpen;return a("div",{},[a("Button",{attrs:{appearance:"warning","is-selected":o,"is-loading":!t.isJoined||t.isSubmitting,"is-disabled":!t.modified},on:{click:i}},[a("svg",{staticClass:"fill-current h-5 w-5",attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M4.75 2a.75.75 0 0 1 .743.648l.007.102v5.69l4.574-4.56a6.41 6.41 0 0 1 8.879-.179l.185.179a6.41 6.41 0 0 1 0 9.064l-8.845 8.84a.75.75 0 0 1-1.06-1.062l8.845-8.839a4.91 4.91 0 0 0-6.766-7.11l-.178.168L6.562 9.5h5.688a.75.75 0 0 1 .743.648l.007.102a.75.75 0 0 1-.648.743L12.25 11h-7.5a.75.75 0 0 1-.743-.648L4 10.25v-7.5A.75.75 0 0 1 4.75 2z"}})]),t._v(" "),a("span",{staticClass:"ml-2"},[t._v("撤销")])])],1)}}])})],1),t._v(" "),a("div",{staticClass:"mx-1 my-1 lg:my-0"},[a("Button",{attrs:{appearance:"primary","is-loading":!t.isJoined||t.isSubmitting,"is-disabled":!t.modified},on:{click:t.save}},[a("svg",{staticClass:"fill-current h-5 w-5",attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M3 5.75A2.75 2.75 0 0 1 5.75 3h9.964a3.25 3.25 0 0 1 2.299.952l2.035 2.035c.61.61.952 1.437.952 2.299v9.964A2.75 2.75 0 0 1 18.25 21H5.75A2.75 2.75 0 0 1 3 18.25V5.75zM5.75 4.5c-.69 0-1.25.56-1.25 1.25v12.5c0 .69.56 1.25 1.25 1.25H6v-5.25A2.25 2.25 0 0 1 8.25 12h7.5A2.25 2.25 0 0 1 18 14.25v5.25h.25c.69 0 1.25-.56 1.25-1.25V8.286c0-.465-.184-.91-.513-1.238l-2.035-2.035a1.75 1.75 0 0 0-.952-.49V7.25a2.25 2.25 0 0 1-2.25 2.25h-4.5A2.25 2.25 0 0 1 7 7.25V4.5H5.75zm10.75 15v-5.25a.75.75 0 0 0-.75-.75h-7.5a.75.75 0 0 0-.75.75v5.25h9zm-8-15v2.75c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75V4.5h-6z"}})]),t._v(" "),a("span",{staticClass:"ml-2"},[t._v("保存")])])],1),t._v(" "),t.showDiscardModal?a("Modal",{attrs:{heading:"保存变更","auto-focus":"",appearance:"warning"},on:{cancel:function(e){t.showDiscardModal=!1}}},[a("p",{attrs:{slot:"content"},slot:"content"},[t._v("\n            是否保存变更到「"+t._s(t.files[t.active].filename)+"」？不保存的话变更将丢失。\n          ")]),t._v(" "),a("div",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{appearance:"primary","is-loading":!t.isJoined||t.isSubmitting},on:{click:t.saveChanges}},[t._v("保存")]),t._v(" "),a("Button",{attrs:{appearance:"warning","is-loading":!t.isJoined||t.isSubmitting},on:{click:t.discardChanges}},[t._v("不保存")]),t._v(" "),a("Button",{attrs:{appearance:"subtle"},on:{click:function(e){t.showDiscardModal=!1}}},[t._v("取消")])],1)]):t._e()],1)]),t._v(" "),a("div",{staticClass:"flex-grow overflow-auto"},["config"===t.openType?a("CodeScriptConfig",{attrs:{schema:t.schema,values:t.defaultValues},on:{"update:schema":function(e){t.schema=e},"update:values":function(e){t.defaultValues=e}}}):a("codemirror",{attrs:{options:t.options},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1)])])}),[],!1,null,"5c20b65d",null);e.default=d.exports;installComponents(d,{Button:a(33).default,FileListLoader:a(791).default,Spinner:a(105).default,Tag:a(486).default,DropdownItem:a(270).default,Dropdown:a(269).default,Popconfirm:a(544).default,Modal:a(507).default,CodeScriptConfig:a(792).default})}}]);