(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{491:function(t,e,s){"use strict";s.r(e);s(104),s(103),s(27),s(54);var a=function(){return Math.random().toString(36).substring(2)},i={name:"ContentLoader",props:{speed:{type:Number,default:2},preserveAspectRatio:{type:String,default:"none"},baseUrl:{type:String,default:""},primaryColor:{type:String,default:"var(--ui-01)"},secondaryColor:{type:String,default:"var(--ui-03)"},primaryOpacity:{type:Number,default:1},secondaryOpacity:{type:Number,default:1},uniqueKey:{type:String,default:""},animate:{type:Boolean,default:!0},viewBox:{type:String,default:void 0},width:{type:[String,Number],default:"300px"},height:{type:[String,Number],default:"20px"}},computed:{fill:function(){return{fill:"url(".concat(this.baseUrl,"#").concat(this.idGradient,")")}},idClip:function(){return this.uniqueKey?"".concat(this.uniqueKey,"-idClip"):a()},idGradient:function(){return this.uniqueKey?"".concat(this.uniqueKey,"-idGradient"):a()},clipPath:function(){return"url(".concat(this.baseUrl,"#").concat(this.idClip,")")}}},n=s(3),o=Object(n.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{staticStyle:{display:"flex"},attrs:{viewBox:t.viewBox,width:t.width,height:t.height,version:"1.1",preserveAspectRatio:t.preserveAspectRatio}},[s("rect",{style:t.fill,attrs:{color:"yellow","clip-path":t.clipPath,x:"0",y:"0",width:"100%",height:"100%"}}),t._v(" "),s("defs",[s("clipPath",{attrs:{id:t.idClip}},[t.$slots.default?t._e():s("rect",{attrs:{x:"0",y:"0",rx:"3",ry:"3",width:"100%",height:"100%"}}),t._v(" "),t._t("default")],2),t._v(" "),s("linearGradient",{attrs:{id:t.idGradient}},[s("stop",{attrs:{offset:"0%","stop-color":t.primaryColor,"stop-opacity":t.primaryOpacity}},[t.animate?s("animate",{attrs:{attributeName:"offset",values:"-2; 1",dur:t.speed,repeatCount:"indefinite"}}):t._e()]),t._v(" "),s("stop",{attrs:{offset:"50%","stop-color":t.secondaryColor,"stop-opacity":t.secondaryOpacity}},[t.animate?s("animate",{attrs:{attributeName:"offset",values:"-1.5; 1.5",dur:t.speed,repeatCount:"indefinite"}}):t._e()]),t._v(" "),s("stop",{attrs:{offset:"100%","stop-color":t.primaryColor,"stop-opacity":t.primaryOpacity}},[t.animate?s("animate",{attrs:{attributeName:"offset",values:"-1; 2",dur:t.speed,repeatCount:"indefinite"}}):t._e()])],1)],1)])}),[],!1,null,null,null);e.default=o.exports},506:function(t,e,s){"use strict";s.r(e);var a={medium:"rounded-lg",small:"rounded",xsmall:"rounded-sm"},i={medium:"rounded-lg p-2",small:"rounded p-1",xsmall:"rounded-sm p-1"},n={name:"AppIcon",props:{icon:{type:String,default:""},alt:{type:String,default:"hamibot icon"},size:{type:String,default:"medium"}},computed:{radius:function(){return a[this.size]||""},fallback:function(){return i[this.size]||""}},data:function(){return{loaded:!1,error:!1}}},o=s(3),r=Object(o.a)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex flex-shrink-0 select-none"},[!t.icon||t.error||t.loaded?t.loaded?s("img",{staticClass:"object-cover w-full",class:t.radius,attrs:{src:t.icon,alt:t.alt}}):s("svg",{staticClass:"fill-current w-full h-full text-ui-02 bg-ui-03",class:t.fallback,attrs:{"aria-label":t.alt,viewBox:"0 0 32 32"}},[s("path",{attrs:{d:"M22.7 6.4V2.6h-4.5v3.8h-4.5V2.6H9.3v3.8C4.1 6.6 0 10.8 0 16c0 5.2 4.1 9.4 9.3 9.6v3.8h4.5v-3.8h4.5v3.8h4.5v-3.8c5.2-.2 9.3-4.4 9.3-9.6-.1-5.2-4.2-9.4-9.4-9.6zm4.8 9.6c0 2.8-2.3 5.1-5.1 5.1H9.6c-2.8 0-5.1-2.3-5.1-5.1s2.3-5.1 5.1-5.1h12.8c2.8 0 5.1 2.3 5.1 5.1z"}}),t._v(" "),s("path",{attrs:{d:"M9.6 14.2h4.2v3.5H9.6zM18.2 14.2h4.2v3.5h-4.2z"}})]):s("img",{staticClass:"w-full h-full bg-ui-03",class:t.radius,attrs:{src:t.icon,alt:t.alt},on:{load:function(e){t.loaded=!0},error:function(e){t.error=!0}}})])}),[],!1,null,null,null);e.default=r.exports},544:function(t,e,s){"use strict";s.r(e);var a={components:{Popup:s(146).default},props:{boundariesElement:{type:[String,Function],default:"viewport"},placement:{type:String,default:"top"},offset:{type:Array,default:function(){return[0,8]}},closeOnOutsideClick:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},positionFixed:{type:Boolean,default:!1},title:{type:String,default:""},appearance:{type:String,default:"primary"},cancelText:{type:String,default:"取消"},confirmText:{type:String,default:"确认"}},data:function(){return{open:!1}},watch:{open:function(t){t?(document.addEventListener("click",this.onOutsideClick),document.addEventListener("keydown",this.onKeyDown)):(document.removeEventListener("click",this.onOutsideClick),document.removeEventListener("keydown",this.onKeyDown))}},beforeDestroy:function(){document.removeEventListener("click",this.onOutsideClick)},methods:{onTriggerClick:function(){this.open=!this.open},onOutsideClick:function(t){this.$refs["popconfirm-container"].contains(t.target)||this.closeOnOutsideClick&&(this.open=!1)},onKeyDown:function(t){27===t.keyCode&&this.closeOnEsc&&(this.open=!1)},onCancel:function(){this.open=!1,this.$emit("cancel")},onConfirm:function(){this.open=!1,this.$emit("confirm")}}},i=s(3),n=Object(i.a)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"popconfirm-container"},[t._t("trigger",null,{isOpen:t.open,toggle:t.onTriggerClick}),t._v(" "),s("Popup",{ref:"popconfirm",attrs:{"is-open":t.open,offset:t.offset,"target-element":t.$refs["popconfirm-container"],"boundaries-element":t.boundariesElement,placement:t.placement,"position-fixed":t.positionFixed}},[s("div",{staticClass:"px-4 py-5 max-w-xs"},[s("div",{staticClass:"inline-flex items-center"},[s("svg",{staticClass:"fill-current h-5 min-w-5 text-y300 mr-2",attrs:{viewBox:"0 0 24 24"}},[s("path",{attrs:{d:"M12 2c5.523 0 10 4.478 10 10s-4.477 10-10 10S2 17.522 2 12 6.477 2 12 2zm0 13.5a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm0-8.75A2.75 2.75 0 0 0 9.25 9.5a.75.75 0 0 0 1.493.102l.007-.102a1.25 1.25 0 1 1 2.5 0c0 .539-.135.805-.645 1.332l-.135.138c-.878.878-1.22 1.447-1.22 2.53a.75.75 0 0 0 1.5 0c0-.539.135-.805.645-1.332l.135-.138c.878-.878 1.22-1.447 1.22-2.53A2.75 2.75 0 0 0 12 6.75z"}})]),t._v(" "),s("span",[t._v(t._s(t.title))])]),t._v(" "),s("footer",{staticClass:"mt-3 flex flex-row justify-end"},[s("Button",{attrs:{appearance:"subtle",spacing:"compact"},on:{click:t.onCancel}},[t._v(t._s(t.cancelText))]),t._v(" "),s("Button",{attrs:{appearance:t.appearance,spacing:"compact"},on:{click:t.onConfirm}},[t._v(t._s(t.confirmText))])],1)])])],2)}),[],!1,null,null,null);e.default=n.exports;installComponents(n,{Button:s(33).default,Footer:s(181).default,Popup:s(146).default})},550:function(t,e,s){"use strict";s.r(e);var a=s(491),i=function(){return Math.random()*(1-.7)+.7},n={name:"DashDetailsLoader",components:{ContentLoader:a.default},props:{isLoading:{type:Boolean,default:!1},primaryColor:{type:String,default:"var(--ui-01)"},secondaryColor:{type:String,default:"var(--ui-03)"}},data:function(){return{random:i}}},o=s(3),r=Object(o.a)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.isLoading?t._l(4,(function(e){return s("ContentLoader",{key:e,attrs:{"view-box":"0 0 840 72",height:"72px",width:"100%",primaryColor:t.primaryColor,secondaryColor:t.secondaryColor}},[s("rect",{attrs:{x:"0",y:"0",rx:"3",ry:"3",width:"178",height:"14"}}),t._v(" "),s("rect",{attrs:{x:"0",y:"22",rx:"3",ry:"3",width:217*t.random(),height:"20"}}),t._v(" "),s("rect",{attrs:{x:"420",y:"0",rx:"3",ry:"3",width:"228",height:"14"}}),t._v(" "),s("rect",{attrs:{x:"420",y:"22",rx:"3",ry:"3",width:157*t.random(),height:"20"}})])})):t._t("default")],2)}),[],!1,null,null,null);e.default=r.exports;installComponents(r,{ContentLoader:s(491).default})},563:function(t,e,s){var a=s(633);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,s(14).default)("10bf8603",a,!0,{sourceMap:!1})},632:function(t,e,s){"use strict";var a=s(563);s.n(a).a},633:function(t,e,s){(e=s(13)(!1)).push([t.i,".modal-container[data-v-f16b3e9c]{background-color:#fff;box-shadow:0 0 0 1px rgba(9,30,66,.08),0 2px 1px rgba(9,30,66,.08),0 0 20px -6px rgba(9,30,66,.31);color:#091e42;display:flex;flex-direction:column;max-height:100%;pointer-events:auto;border-radius:3px;outline:0;overflow:hidden}.content[data-v-f16b3e9c]{overflow-y:auto;overflow-x:hidden;flex:1 1 auto}.modal-enter[data-v-f16b3e9c],.modal-leave-active[data-v-f16b3e9c]{opacity:0}.modal-enter .positioner[data-v-f16b3e9c]{opacity:0;transform:translateY(20px)}.modal-leave-active .positioner[data-v-f16b3e9c]{opacity:0;transform:translateY(-20px)}footer[data-v-f16b3e9c],header[data-v-f16b3e9c]{align-items:center;display:flex;z-index:1;box-shadow:none;flex:0 0 auto;transition:box-shadow .2s ease 0s}",""]),t.exports=e},652:function(t,e,s){"use strict";s.r(e);var a={},i=s(3),n=Object(i.a)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"mb-2 flex items-center"},[s("svg",{staticClass:"fill-current h-6 min-w-6",attrs:{viewBox:"0 0 24 24"}},[s("path",{attrs:{d:"M3 6.25A3.25 3.25 0 0 1 6.25 3h11.5A3.25 3.25 0 0 1 21 6.25v11.5A3.25 3.25 0 0 1 17.75 21H6.25A3.25 3.25 0 0 1 3 17.75V6.25zm9 3.25a.75.75 0 0 0-.75.75v6a.25.25 0 0 1-.25.25H9.75a.75.75 0 0 0 0 1.5H11a1.75 1.75 0 0 0 1.75-1.75v-6A.75.75 0 0 0 12 9.5zm2 1.75v1.5c0 .966.784 1.75 1.75 1.75h.5a.25.25 0 0 1 .25.25v1.5a.25.25 0 0 1-.25.25h-1.5a.75.75 0 0 0 0 1.5h1.5A1.75 1.75 0 0 0 18 16.25v-1.5A1.75 1.75 0 0 0 16.25 13h-.5a.25.25 0 0 1-.25-.25v-1.5a.25.25 0 0 1 .25-.25h1.5a.75.75 0 0 0 0-1.5h-1.5A1.75 1.75 0 0 0 14 11.25z"}})]),t._v(" "),s("span",{staticClass:"mx-2 font-bold"},[t._v("脚本")])]),t._v(" "),s("details",{staticClass:"mb-2 select-none"},[s("summary",{staticClass:"mb-2 text-text-02 cursor-pointer hover:text-interactive-01 transition duration-200 ease-in-out"},[t._v("\n      运行后很快就提示运行结束 ⭐\n    ")]),t._v(" "),s("div",{staticClass:"text-sm"},[t._v("\n      大多数脚本都需要无障碍服务和后台弹窗权限，具体要求请查看脚本介绍页，权限的打开方法参见："),s("a",{staticClass:"-mx-3",attrs:{href:"https://docs.hamibot.com/help/turn-permissions-on",target:"_blank"}},[s("Button",{attrs:{appearance:"link"}},[s("span",[t._v("打开权限")]),t._v(" "),s("svg",{staticClass:"fill-current h-5 min-w-5 ml-1",attrs:{viewBox:"0 0 24 24"}},[s("path",{attrs:{d:"M7.25 4.5h3.5a.75.75 0 0 1 .101 1.493L10.75 6h-3.5a2.249 2.249 0 0 0-2.241 2.06L5 8.22l.003 8.53A2.25 2.25 0 0 0 7.1 18.995l.154.005 8.498-.012a2.25 2.25 0 0 0 2.241-2.096l.006-.154v-3.506a.75.75 0 0 1 1.493-.102l.007.102v3.506a3.75 3.75 0 0 1-3.546 3.745l-.2.005-8.495.012-.203-.005a3.75 3.75 0 0 1-3.547-3.545l-.005-.2-.002-8.497.004-.203a3.75 3.75 0 0 1 3.546-3.545l.2-.005h3.498H7.25zm6.498-1.499h6.554l.1.015.1.028.057.024a.705.705 0 0 1 .152.09l.07.063.083.099.054.09.039.09.02.065.013.063.01.095v6.532a.75.75 0 0 1-1.494.102l-.006-.102-.001-4.694-7.22 7.224a.75.75 0 0 1-.976.072l-.084-.072a.75.75 0 0 1-.073-.977l.073-.084 7.218-7.223h-4.689a.75.75 0 0 1-.743-.648l-.007-.102a.75.75 0 0 1 .648-.743l.102-.007z"}})])])],1)])]),t._v(" "),s("details",{staticClass:"mb-2 select-none"},[s("summary",{staticClass:"mb-2 text-text-02 cursor-pointer hover:text-interactive-01 transition duration-200 ease-in-out"},[t._v("\n      一直要求打开无障碍服务 ⭐\n    ")]),t._v(" "),s("div",{staticClass:"text-sm"},[t._v("\n      已经打开了，但还是不行，一般是因为服务被系统结束了，最简单的办法是重启手机，如果不希望被频繁结束，请参见文档："),s("a",{staticClass:"-mx-3",attrs:{href:"https://docs.hamibot.com/help/keep-hamibot-running",target:"_blank"}},[s("Button",{attrs:{appearance:"link"}},[s("span",[t._v("保持在线")]),t._v(" "),s("svg",{staticClass:"fill-current h-5 min-w-5 ml-1",attrs:{viewBox:"0 0 24 24"}},[s("path",{attrs:{d:"M7.25 4.5h3.5a.75.75 0 0 1 .101 1.493L10.75 6h-3.5a2.249 2.249 0 0 0-2.241 2.06L5 8.22l.003 8.53A2.25 2.25 0 0 0 7.1 18.995l.154.005 8.498-.012a2.25 2.25 0 0 0 2.241-2.096l.006-.154v-3.506a.75.75 0 0 1 1.493-.102l.007.102v3.506a3.75 3.75 0 0 1-3.546 3.745l-.2.005-8.495.012-.203-.005a3.75 3.75 0 0 1-3.547-3.545l-.005-.2-.002-8.497.004-.203a3.75 3.75 0 0 1 3.546-3.545l.2-.005h3.498H7.25zm6.498-1.499h6.554l.1.015.1.028.057.024a.705.705 0 0 1 .152.09l.07.063.083.099.054.09.039.09.02.065.013.063.01.095v6.532a.75.75 0 0 1-1.494.102l-.006-.102-.001-4.694-7.22 7.224a.75.75 0 0 1-.976.072l-.084-.072a.75.75 0 0 1-.073-.977l.073-.084 7.218-7.223h-4.689a.75.75 0 0 1-.743-.648l-.007-.102a.75.75 0 0 1 .648-.743l.102-.007z"}})])])],1)])]),t._v(" "),t._m(0),t._v(" "),s("details",{staticClass:"mb-2 select-none"},[s("summary",{staticClass:"mb-2 text-text-02 cursor-pointer hover:text-interactive-01 transition duration-200 ease-in-out"},[t._v("\n      还是运行不了\n    ")]),t._v(" "),s("div",{staticClass:"text-sm mb-2"},[t._v("\n      先打开 Hamibot App\n      的日志（右上角的图标），看是否有什么线索，截图后反馈给脚本作者。\n    ")]),t._v(" "),s("nuxt-link",{attrs:{to:"/dashboard/issues/create"}},[s("Button",{staticStyle:{width:"100%"},attrs:{appearance:"primary",spacing:"large"}},[t._v("反馈脚本问题")])],1)],1),t._v(" "),t._m(1),t._v(" "),s("div",{staticClass:"mb-2 flex items-center"},[s("svg",{staticClass:"fill-current h-6 min-w-6",attrs:{viewBox:"0 0 24 24"}},[s("path",{attrs:{d:"M17.753 14a2.25 2.25 0 0 1 2.25 2.25v.905A3.75 3.75 0 0 1 18.696 20C17.13 21.344 14.89 22.001 12 22.001c-2.89 0-5.128-.657-6.691-2a3.75 3.75 0 0 1-1.305-2.844v-.907A2.25 2.25 0 0 1 6.254 14h11.5zM11.9 2.007L12 2a.75.75 0 0 1 .743.649l.007.101v.75h3.5a2.25 2.25 0 0 1 2.25 2.25v4.505a2.25 2.25 0 0 1-2.25 2.25h-8.5a2.25 2.25 0 0 1-2.25-2.25V5.75A2.25 2.25 0 0 1 7.75 3.5h3.5v-.75a.75.75 0 0 1 .649-.743L12 2l-.101.007zM9.749 6.5a1.25 1.25 0 1 0 0 2.499 1.25 1.25 0 0 0 0-2.499zm4.493 0a1.25 1.25 0 1 0 0 2.499 1.25 1.25 0 0 0 0-2.499z"}})]),t._v(" "),s("span",{staticClass:"mx-2 font-bold"},[t._v("机器人")])]),t._v(" "),s("details",{staticClass:"mb-2 select-none"},[s("summary",{staticClass:"mb-2 text-text-02 cursor-pointer hover:text-interactive-01 transition duration-200 ease-in-out"},[t._v("\n      过段时间就会离线\n    ")]),t._v(" "),s("div",{staticClass:"text-sm"},[t._v("\n      需要手机进行设置，具体参见文档："),s("a",{staticClass:"-mx-3",attrs:{href:"https://docs.hamibot.com/help/keep-hamibot-running",target:"_blank"}},[s("Button",{attrs:{appearance:"link"}},[s("span",[t._v("保持在线")]),t._v(" "),s("svg",{staticClass:"fill-current h-5 min-w-5 ml-1",attrs:{viewBox:"0 0 24 24"}},[s("path",{attrs:{d:"M7.25 4.5h3.5a.75.75 0 0 1 .101 1.493L10.75 6h-3.5a2.249 2.249 0 0 0-2.241 2.06L5 8.22l.003 8.53A2.25 2.25 0 0 0 7.1 18.995l.154.005 8.498-.012a2.25 2.25 0 0 0 2.241-2.096l.006-.154v-3.506a.75.75 0 0 1 1.493-.102l.007.102v3.506a3.75 3.75 0 0 1-3.546 3.745l-.2.005-8.495.012-.203-.005a3.75 3.75 0 0 1-3.547-3.545l-.005-.2-.002-8.497.004-.203a3.75 3.75 0 0 1 3.546-3.545l.2-.005h3.498H7.25zm6.498-1.499h6.554l.1.015.1.028.057.024a.705.705 0 0 1 .152.09l.07.063.083.099.054.09.039.09.02.065.013.063.01.095v6.532a.75.75 0 0 1-1.494.102l-.006-.102-.001-4.694-7.22 7.224a.75.75 0 0 1-.976.072l-.084-.072a.75.75 0 0 1-.073-.977l.073-.084 7.218-7.223h-4.689a.75.75 0 0 1-.743-.648l-.007-.102a.75.75 0 0 1 .648-.743l.102-.007z"}})])])],1)])]),t._v(" "),t._m(2),t._v(" "),s("div",{staticClass:"mb-2 flex items-center"},[s("svg",{staticClass:"fill-current h-6 min-w-6",attrs:{viewBox:"0 0 24 24"}},[s("path",{attrs:{d:"M2 6.75C2 5.784 2.784 5 3.75 5h13.5c.966 0 1.75.784 1.75 1.75v8.5A1.75 1.75 0 0 1 17.25 17H3.75A1.75 1.75 0 0 1 2 15.25v-8.5zm3-.5v1a.75.75 0 0 1-.75.75h-1v1.5h1A2.25 2.25 0 0 0 6.5 7.25v-1H5zm5.5 7.25a2.25 2.25 0 1 0 0-4.5 2.25 2.25 0 0 0 0 4.5zm-7.25.5h1a.75.75 0 0 1 .75.75v1h1.5v-1a2.25 2.25 0 0 0-2.25-2.25h-1V14zm12.75.75a.75.75 0 0 1 .75-.75h1v-1.5h-1a2.25 2.25 0 0 0-2.25 2.25v1H16v-1zm0-7.5v-1h-1.5v1a2.25 2.25 0 0 0 2.25 2.25h1V8h-1a.75.75 0 0 1-.75-.75z"}}),t._v(" "),s("path",{attrs:{d:"M4.401 18.5A2.999 2.999 0 0 0 7 20h10.25A4.75 4.75 0 0 0 22 15.25V10c0-1.11-.603-2.08-1.5-2.599v7.849a3.25 3.25 0 0 1-3.25 3.25H4.401z"}})]),t._v(" "),s("span",{staticClass:"mx-2 font-bold"},[t._v("交易")])]),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("details",{staticClass:"mb-2 select-none"},[e("summary",{staticClass:"mb-2 text-text-02 cursor-pointer hover:text-interactive-01 transition duration-200 ease-in-out"},[this._v("\n      运行后没反应也没报错\n    ")]),this._v(" "),e("div",{staticClass:"text-sm"},[this._v("\n      脚本可能正在玩命加载中，不妨给他一点时间（通常需要数秒到数十秒）\n    ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"my-4 flex items-center text-center select-none"},[e("hr",{staticClass:"border-ui-03 border-1 w-full rounded-md"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"my-4 flex items-center text-center select-none"},[e("hr",{staticClass:"border-ui-03 border-1 w-full rounded-md"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("details",{staticClass:"mb-2 select-none"},[e("summary",{staticClass:"mb-2 text-text-02 cursor-pointer hover:text-interactive-01 transition duration-200 ease-in-out"},[this._v("\n      支付时提示商户异常\n    ")]),this._v(" "),e("div",{staticClass:"text-sm"},[this._v("\n      这是因为微信不允许通过相册识别的方式扫描二维码，也就是说二维码只支持相机扫描，如果你当前不方便相机扫描，可以登录到\n      Hamibot 公众号，直接使用微信支付。\n    ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("details",{staticClass:"mb-2 select-none"},[e("summary",{staticClass:"mb-2 text-text-02 cursor-pointer hover:text-interactive-01 transition duration-200 ease-in-out"},[this._v("\n      如何退款\n    ")]),this._v(" "),e("div",{staticClass:"text-sm"},[this._v("\n      如果处于试用期，点击取消订阅即可，如果脚本没有提供试用，或已经过了试用期，给该脚本创建议题，然后点击申请退款即可。\n    ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("details",{staticClass:"mb-2 select-none"},[e("summary",{staticClass:"mb-2 text-text-02 cursor-pointer hover:text-interactive-01 transition duration-200 ease-in-out"},[this._v("\n      提现多久到账\n    ")]),this._v(" "),e("div",{staticClass:"text-sm"},[this._v("一般时间内都会很快到账，最长不会超过 3 天。")])])}],!1,null,null,null);e.default=n.exports;installComponents(n,{Button:s(33).default})},654:function(t,e,s){"use strict";s.r(e);s(103);var a=s(502),i=s(503),n=s(180),o=s(181),r={name:"Modal",components:{Blanket:a.default,PositionerAbsolute:i.default,Header:n.default,Footer:o.default},props:{heading:{type:String,default:""},subheading:{type:String,default:""},appearance:{type:String,default:void 0},autoFocus:{type:Boolean,default:!1},actions:{type:Array,default:function(){return["Continue","Cancel"]}},pending:{type:Boolean,default:!1},shouldAllowSubmit:{type:Boolean,default:!0},width:{type:String,default:"600px"},zIndex:{type:Number,default:999},closeOnEsc:{type:Boolean,default:!0}},data:function(){return{mounted:!1}},beforeMount:function(){document.addEventListener("keyup",this.onEsc)},beforeDestroy:function(){document.removeEventListener("keyup",this.onEsc)},methods:{onEsc:function(t){27===t.keyCode&&this.closeOnEsc&&!this.pending&&this.$emit("cancel")},onCancel:function(){this.$emit("cancel")},onSubmit:function(){this.$emit("submit")}}},l=(s(632),s(3)),c=Object(l.a)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"modal",appear:""}},[s("Blanket",{staticClass:"dialog",attrs:{"z-index":t.zIndex}},[s("PositionerAbsolute",{attrs:{width:t.width}},[s("form",{staticClass:"modal-container",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[t._t("default",[s("header",{staticClass:"px-6 py-5"},[t._t("header",[s("Header",{attrs:{heading:t.heading,subheading:t.subheading,appearance:t.appearance}})])],2),t._v(" "),s("div",{staticClass:"content px-6 py-1"},[t._t("content")],2),t._v(" "),s("footer",{staticClass:"px-6 py-6 flex justify-end"},[s("div",{staticClass:"flex-grow"},[t._t("danger")],2),t._v(" "),t._t("footer",[t._t("progress"),t._v(" "),s("Footer",{attrs:{actions:t.actions,"auto-focus":t.autoFocus,appearance:t.appearance,"should-allow-submit":t.shouldAllowSubmit,pending:t.pending},on:{cancel:t.onCancel}})])],2)])],2)])],1)],1)}),[],!1,null,"f16b3e9c",null);e.default=c.exports;installComponents(c,{Header:s(180).default,Header:s(180).default,Footer:s(181).default,Footer:s(181).default,PositionerAbsolute:s(503).default,Blanket:s(502).default})},788:function(t,e,s){"use strict";s.r(e);s(23),s(32),s(25),s(46),s(47),s(40),s(26);var a=s(16),i=s(48),n=(s(741),{props:{source:{type:Object,default:function(){return{}}}}}),o=s(3),r=Object(o.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-1 text-sm text-text-02"},[e("span",[this._v(this._s(this.source.text))])])}),[],!1,null,null,null).exports,l=s(505);function c(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function u(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?c(Object(s),!0).forEach((function(e){Object(a.a)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var d={props:{},data:function(){return{itemComponent:r,height:0}},computed:u(u({},Object(i.b)("socket",["isConnected","isJoined"])),Object(i.b)("message",["items","timestamp"])),watch:{isJoined:function(t,e){t&&this.init()}},created:function(){window.addEventListener("resize",this.onResize)},mounted:function(){this.isJoined&&this.init()},destroyed:function(){window.removeEventListener("resize",this.onResize)},methods:{init:function(){this.timestamp||this.$socket.emit("b:message:list")},onTotop:function(){},onItemRendered:Object(l.f)((function(){this.setHeight()})),onResize:Object(l.f)((function(){this.setHeight()})),setHeight:Object(l.f)((function(){var t=this.$refs.wrapper.parentNode.clientHeight;t!==this.height&&(this.height=t),this.$refs.vsl.scrollToBottom()}))}},p=Object(o.a)(d,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"wrapper"},[s("virtual-list",{directives:[{name:"show",rawName:"v-show",value:!!t.items.length,expression:"!!items.length"}],ref:"vsl",staticClass:"overflow-y-auto",style:{height:t.height?t.height+"px":"100%"},attrs:{scrollable:"","data-key":"index","data-sources":t.items,"data-component":t.itemComponent,"estimate-size":10},on:{totop:t.onTotop,resized:t.onItemRendered}}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.items.length,expression:"!items.length"}],staticClass:"flex-grow flex flex-col items-center justify-center"},[s("svg",{staticClass:"fill-current h-24 min-w-24 text-n40",attrs:{viewBox:"0 0 24 24"}},[s("path",{attrs:{d:"M12 1.999c5.524 0 10.002 4.478 10.002 10.002 0 5.523-4.478 10.001-10.002 10.001-5.524 0-10.002-4.478-10.002-10.001C1.998 6.477 6.476 1.999 12 1.999zm0 1.5a8.502 8.502 0 1 0 0 17.003A8.502 8.502 0 0 0 12 3.5zm-.004 7a.75.75 0 0 1 .744.648l.007.102.003 5.502a.75.75 0 0 1-1.493.102l-.007-.101-.003-5.502a.75.75 0 0 1 .75-.75zM12 7.003a.999.999 0 1 1 0 1.997.999.999 0 0 1 0-1.997z"}})]),t._v(" "),s("div",{staticClass:"text-text-03 mt-4"},[t._v("还没有消息")])])],1)}),[],!1,null,null,null);e.default=p.exports},843:function(t,e,s){"use strict";s.r(e);s(23),s(32),s(25),s(182),s(274),s(34),s(46),s(47),s(40),s(27),s(26),s(62),s(59);var a=s(16),i=s(48),n=s(798),o=s(801),r=s(694);function l(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function c(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?l(Object(s),!0).forEach((function(e){Object(a.a)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var u={layout:"dashboard",data:function(){return{isLoading:!0,items:[],recently:[],_id:"",name:"",showEditModal:!1,isSubmitting:!1,original:"",formSchema:[],formValues:{},formValueList:[],showLogsModal:!1,showRefundModal:!1,rates:{},showQaModal:!1,showCancelSubscriptionModal:!1,cancelSubscriptionItem:null}},head:function(){return{title:"脚本 · Hamibot"}},computed:c(c({},Object(i.b)("socket",["isJoined"])),Object(i.b)("robot",["robotCount","onlines"])),watch:{isJoined:function(t,e){t&&this.init()}},beforeMount:function(){var t=this;this.$socket.on("installation:list:success",(function(e){var s=e.items,a=e.recently;t.items=s,t.recently=a,t.$nextTick((function(){return t.isLoading=!1})),t.$store.commit("script/add",s)})),this.$socket.on("installation:list:fail",(function(e){var s=e.message;t.$toast.error(s||"未知错误",{duration:15e3})})),this.$socket.on("installation:edited",(function(e){t.showEditModal=!1,t.isSubmitting=!1;for(var s=t.items,a=0;a<s.length;a++){var i=s[a];if(i._id===e._id){var n=Object.assign({},i,e);t.items.splice(a,1),t.items.unshift(n);break}}t.$toast.success("更新成功")})),this.$socket.on("installation:edit:fail",(function(e){var s=e.message;setTimeout((function(){return t.isSubmitting=!1}),3e3),t.$toast.error(s||"未知错误")})),this.$socket.on("installation:deleted",(function(e){var s=e._id,a=e.name;t.showEditModal=!1,t.isSubmitting=!1;for(var i=t.items,n="",o=0;o<i.length;o++){var r=i[o];if(r._id===s){n=r.name,t.items.splice(o,1);break}}t.$toast.success("成功删除「".concat(a||n,"」"))})),this.$socket.on("installation:remove:fail",(function(e){var s=e.message;setTimeout((function(){return t.isSubmitting=!1}),3e3),t.$toast.error(s||"未知错误")})),this.$socket.on("installation:subscription:cancel:success",(function(){t.isSubmitting=!1,t.$toast.success("成功取消订阅"),t.showCancelSubscriptionModal=!1,t.$nextTick((function(){return t.cancelSubscriptionItem=null}))})),this.$socket.on("installation:subscription:cancel:fail",(function(e){var s=e.message;e.reload?window.location.reload(!0):(setTimeout((function(){return t.isSubmitting=!1}),3e3),t.$toast.error(s||"未知错误"))}))},mounted:function(){this.isJoined&&this.init()},beforeDestroy:function(){this.$socket.off("installation:list:success"),this.$socket.off("installation:list:fail"),this.$socket.off("installation:edited"),this.$socket.off("installation:edit:fail"),this.$socket.off("installation:deleted"),this.$socket.off("installation:remove:fail"),this.$socket.off("installation:subscription:cancel:success"),this.$socket.off("installation:subscription:cancel:fail")},methods:{init:function(){this.isLoading&&this.$socket.emit("b:installation:list")},openEditModal:function(t){var e=this,s=this.items[t],a=s._id,i=s.name,n=s.configuration,o=n.schema,r=n.defaultValues,l=n.values,c=n.valueList;this._id=a,this.name=i,this.formSchema=o,this.formValues=Object.assign(r,l),this.formValueList=c,this.showEditModal=!0,this.$nextTick((function(){e.original=JSON.stringify(e.formValues)}))},applyValues:function(t){this.formValues=t},save:function(){var t=this._id,e=this.formValues;this.original!==JSON.stringify(e)?(this.isSubmitting=!0,this.$socket.emit("b:installation:edit",{_id:t,values:e})):this.showEditModal=!1},remove:function(){this.isSubmitting=!0,this.$socket.emit("b:installation:remove",{_id:this._id})},update:function(t){this.isSubmitting=!0,this.$socket.emit("b:installation:update",{_id:t})},robotBusy:function(){var t=this;this.isSubmitting=!0,setTimeout((function(){t.isSubmitting=!1}),500)},run:function(t,e,s){var a=this.items[s];if(a){var i=a.configuration.schema;if(a.isNew&&i.length)return this.$toast.show("本脚本提供了脚本配置"),this.openEditModal(s),void this.$set(this.items[s],"isNew",!1);this.robotBusy(),this.$socket.emit("b:installation:run",{scriptId:t,robots:e}),this.updateRate("r",t,e)}else window.location.reload(!0)},stop:function(t,e){this.robotBusy(),this.$socket.emit("b:script:stop",{scriptId:t,robots:e}),this.updateRate("s",t,e)},updateRate:function(t,e,s){for(var a=this.rates,i=[t,e],n=0;n<s.length;n++){var o=s[n].robotId;i.push(o)}if(a[i=i.join(":")]){var r=a[i],l=r.ts,c=r.n,u=Date.now(),d=c;u-l>1e4?d=1:(d+=1)>=3&&(this.showQaModal=!0),this.$set(this.rates,i,{ts:u,n:d})}else a[i]={ts:Date.now(),n:1}},cancelSubscription:function(){if(!this.cancelSubscriptionItem)return this.$toast.error("无效操作");var t=this.cancelSubscriptionItem,e=t._id,s=t.plan;if(new Date(s.freeTrialExpiresAt)<new Date)return this.showCancelSubscriptionModal=!1,this.$toast.error("免费试用已结束");this.isSubmitting=!0,this.$socket.emit("b:installation:subscription:cancel",{_id:e})},endFreeTrial:function(t){this.isSubmitting=!0,this.$socket.emit("b:installation:freetrial:end",{_id:t})},requestRefund:function(t){},clearMessages:function(){this.$store.commit("message/clear")},format:function(t){return Object(n.a)(new Date(t),"yyyy-MM-dd HH:mm")},distance:function(t){return new Date(t)<new Date?"已到期":Object(o.a)(new Date(t),{locale:r.a,includeSeconds:!0})}}},d=s(3),p=Object(d.a)(u,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",{staticClass:"h-full mb-12"},[s("header",{staticClass:"mt-12 border-b border-ui-03"},[s("div",{staticClass:"container mx-auto px-4 sm:px-0"},[t._m(0),t._v(" "),s("div",{staticClass:"mb-6 flex justify-between"},[s("div"),t._v(" "),s("div",{staticClass:"flex items-center -mx-1 sm:-mx-2"},[s("nuxt-link",{staticClass:"mx-1 sm:mx-2",attrs:{to:"/dashboard/issues"}},[s("Button",{attrs:{appearance:"default"}},[t._v("议题")])],1),t._v(" "),s("div",{staticClass:"mx-1 sm:mx-2"},[s("Button",{attrs:{appearance:"default"},on:{click:function(e){t.showLogsModal=!0}}},[t._v("脚本消息")])],1),t._v(" "),s("nuxt-link",{staticClass:"mx-1 sm:mx-2",attrs:{to:"/dashboard/scripts/console"}},[s("Button",{attrs:{appearance:"default"}},[t._v("脚本控制台")])],1),t._v(" "),s("nuxt-link",{staticClass:"mx-1 sm:mx-2",attrs:{to:"/marketplace"}},[s("Button",{attrs:{appearance:"primary"}},[t._v("脚本市场")])],1)],1)]),t._v(" "),t.showLogsModal?s("Modal",{attrs:{heading:"脚本消息",subheading:"预览版",hFull:!0,"auto-focus":""},on:{cancel:function(e){t.showLogsModal=!1}}},[s("div",{staticClass:"flex flex-col h-full",attrs:{slot:"content"},slot:"content"},[s("ScrollList",{staticClass:"flex-grow flex flex-col"})],1),t._v(" "),s("div",{staticClass:"footer whitespace-no-wrap",attrs:{slot:"footer"},slot:"footer"},[s("Button",{attrs:{appearance:"subtle"},on:{click:t.clearMessages}},[t._v("清屏")]),t._v(" "),s("Button",{attrs:{appearance:"subtle"},on:{click:function(e){t.showLogsModal=!1}}},[t._v("关闭")])],1),t._v(" "),s("div",{staticClass:"flex items-center text-sm text-text-03 select-none",attrs:{slot:"danger"},slot:"danger"},[s("svg",{staticClass:"fill-current h-5 min-w-5 mr-1 text-b100",attrs:{viewBox:"0 0 24 24"}},[s("path",{attrs:{d:"M12 1.999c5.524 0 10.002 4.478 10.002 10.002 0 5.523-4.478 10.001-10.002 10.001-5.524 0-10.002-4.478-10.002-10.001C1.998 6.477 6.476 1.999 12 1.999zm-.004 8.25a1 1 0 0 0-.993.885l-.006.116.003 5.502.007.116a1 1 0 0 0 1.987 0L13 16.75l-.003-5.501-.007-.117a1 1 0 0 0-.994-.882zM12 6.5a1.252 1.252 0 1 0 0 2.503A1.252 1.252 0 0 0 12 6.5z"}})]),t._v(" "),s("span",[t._v("并非所有脚本都支持脚本消息")])])]):t._e()],1)]),t._v(" "),s("main",{staticClass:"container mx-auto flex flex-col sm:flex-row mt-6 pb-12 sm:pb-24 px-4 sm:px-0"},[s("div",{staticClass:"w-full sm:w-8/12"},[s("div",{staticClass:"mb-4 flex items-center justify-between"},[s("h2",{staticClass:"text-xl"},[t._v("配置")]),t._v(" "),s("div",{staticClass:"flex items-center"},[s("svg",{staticClass:"fill-current h-5 min-w-5 text-b100 mr-1",attrs:{viewBox:"0 0 24 24"}},[s("path",{attrs:{d:"M12 2c5.523 0 10 4.478 10 10s-4.477 10-10 10S2 17.522 2 12 6.477 2 12 2zm0 1.667c-4.595 0-8.333 3.738-8.333 8.333 0 4.595 3.738 8.333 8.333 8.333 4.595 0 8.333-3.738 8.333-8.333 0-4.595-3.738-8.333-8.333-8.333zM12 15.5a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm0-8.75a2.75 2.75 0 0 1 2.75 2.75c0 1.01-.297 1.574-1.051 2.359l-.169.171c-.622.622-.78.886-.78 1.47a.75.75 0 0 1-1.5 0c0-1.01.297-1.574 1.051-2.359l.169-.171c.622-.622.78-.886.78-1.47a1.25 1.25 0 0 0-2.493-.128l-.007.128a.75.75 0 0 1-1.5 0A2.75 2.75 0 0 1 12 6.75z"}})]),t._v(" "),s("div",{staticClass:"text-b100 text-sm outline-none hover:text-b200 transition duration-200 ease-in-out cursor-pointer",on:{click:function(e){t.showQaModal=!0}}},[t._v("\n            常见问题\n          ")])])]),t._v(" "),s("DashDetailsLoader",{attrs:{"is-loading":!t.isJoined||t.isLoading}},[t.items.length?s("div",t._l(t.items,(function(e,a){return s("div",{key:e._id,staticClass:"border border-ui-03 rounded-lg mb-6"},[e.jobId?s("section",{staticClass:"rounded-lg rounded-b-none px-4 py-3 flex items-center bg-t50 text-t400"},[s("svg",{staticClass:"fill-current h-6 min-w-6 bg-t400 text-t50 p-1 rounded",attrs:{viewBox:"0 0 24 24"}},[s("path",{attrs:{d:"M8.75 3h6.5a.75.75 0 0 1 .743.648L16 3.75V7h1.75A3.25 3.25 0 0 1 21 10.25v6.5A3.25 3.25 0 0 1 17.75 20H6.25A3.25 3.25 0 0 1 3 16.75v-6.5A3.25 3.25 0 0 1 6.25 7H8V3.75a.75.75 0 0 1 .648-.743L8.75 3h6.5-6.5zm9 5.5H6.25a1.75 1.75 0 0 0-1.75 1.75v6.5c0 .966.784 1.75 1.75 1.75h11.5a1.75 1.75 0 0 0 1.75-1.75v-6.5a1.75 1.75 0 0 0-1.75-1.75zm-3.25-4h-5V7h5V4.5z"}})]),t._v(" "),s("nuxt-link",{staticClass:"mx-2 font-medium outline-none hover:opacity-75 transition duration-200 ease-in-out",attrs:{to:"/dashboard/jobs/"+e.jobId}},[t._v("\n                "+t._s(e.name)+"\n              ")])],1):s("section",{staticClass:"rounded-lg rounded-b-none px-4 py-3 flex items-center flex-wrap",class:[e.expired?"bg-disabled-02":"bg-ui-01"]},[s("AppIcon",{staticClass:"w-6 h-6 mr-2",attrs:{icon:e.icon,size:"small"}}),t._v(" "),s("nuxt-link",{staticClass:"mr-2 font-medium outline-none hover:text-text-02 transition duration-200 ease-in-out",attrs:{to:"/marketplace/"+e.slug}},[t._v("\n                "+t._s(e.name)+"\n              ")]),t._v(" "),s("span",{staticClass:"text-text-02 text-sm"},[t._v("\n                "+t._s(e.version)+"\n              ")]),t._v(" "),e.hasUpdate?s("Lozenge",{staticClass:"ml-1",attrs:{appearance:"new"}},[t._v("有新版本")]):t._e(),t._v(" "),s("div",{staticClass:"flex items-center ml-3 text-text-02 text-sm select-none"},[s("svg",{staticClass:"fill-current h-4 min-w-4 mr-1",attrs:{viewBox:"0 0 24 24"}},[s("path",{attrs:{d:"M10.5 2.751a.75.75 0 0 0-1.5 0v.752c0 .633.196 1.22.53 1.703A3.753 3.753 0 0 0 7.01 8.49h-.257a2.25 2.25 0 0 1-2.24-2.259l.006-1.486a.75.75 0 1 0-1.5-.006l-.007 1.486A3.75 3.75 0 0 0 6.747 9.99H7v1.51H2.75a.75.75 0 0 0 0 1.5H7v1.992h-.253a3.75 3.75 0 0 0-3.735 3.766l.007 1.485a.75.75 0 0 0 1.5-.006l-.007-1.485a2.25 2.25 0 0 1 2.241-2.26H7.226a5.002 5.002 0 0 0 9.548 0H17.247a2.25 2.25 0 0 1 2.24 2.26l-.006 1.485a.75.75 0 0 0 1.5.006l.006-1.485a3.75 3.75 0 0 0-3.734-3.766H17V13h4.251a.75.75 0 0 0 0-1.5H17V9.99h.253a3.75 3.75 0 0 0 3.735-3.765l-.007-1.486a.75.75 0 1 0-1.5.006l.006 1.486a2.25 2.25 0 0 1-2.24 2.26h-.256a3.753 3.753 0 0 0-2.52-3.285c.333-.483.529-1.07.529-1.703v-.752a.75.75 0 0 0-1.5 0v.752a1.5 1.5 0 0 1-3 0v-.752zm-2 6.002a2.25 2.25 0 0 1 2.25-2.25h2.5a2.25 2.25 0 0 1 2.25 2.25v6.248a3.5 3.5 0 1 1-7 0V8.753z"}})]),t._v(" "),s("nuxt-link",{staticClass:"outline-none hover:text-text-03 transition duration-200 ease-in-out",attrs:{to:"/dashboard/issues/create?slug="+e.slug}},[t._v("\n                  反馈\n                ")])],1)],1),t._v(" "),s("section",{staticClass:"flex flex-col items-center px-4",class:[e.plan&&e.plan.model||e.hasUpdate||e.expired||e.useForTask?"my-4":""]},[e.plan&&e.plan.model?s("div",{staticClass:"flex flex-col items-center",class:[e.hasUpdate||e.expired?"mb-4 border-b border-dashed":"-mb-1"]},[s("Tag",{attrs:{color:"flatRate"===e.plan.model?"year"===e.plan.period_unit?"grey-yellow":"blue-light":"green-light",label:e.plan.name}}),t._v(" "),e.expiresAt?s("div",{staticClass:"text-text-02 text-sm py-1"},[s("span",[t._v("脚本有效期")]),t._v(" "),s("span",{staticClass:"text-text-01"},[t._v(t._s(t.format(e.expiresAt)))]),t._v(" "),e.expired?s("span",{staticClass:"text-support-01 font-bold"},[t._v("\n                    已过期\n                  ")]):s("span",[s("span",[t._v("("+t._s(t.distance(e.expiresAt))+")")])])]):t._e(),t._v(" "),e.plan.freeTrialExpiresAt?s("div",{staticClass:"text-text-02 text-sm py-1"},[new Date(e.plan.freeTrialExpiresAt)>new Date?s("div",[s("span",[t._v("试用有效期")]),t._v(" "),s("span",{staticClass:"text-text-01"},[t._v(t._s(t.format(e.plan.freeTrialExpiresAt)))]),t._v(" "),s("span",[t._v("("+t._s(t.distance(e.plan.freeTrialExpiresAt))+")")]),t._v(" "),s("div",{staticClass:"flex justify-center"},[s("Button",{attrs:{appearance:"link","is-loading":!t.isJoined||t.isSubmitting},on:{click:function(s){t.cancelSubscriptionItem=e,t.showCancelSubscriptionModal=!0}}},[t._v("\n                        取消订阅\n                      ")])],1)]):s("span",[t._v("试用已结束")])]):t._e()],1):t._e(),t._v(" "),s("div",{staticClass:"flex items-center"},[e.expired&&e.plan&&e.plan._id?s("div",{staticClass:"px-1"},[s("Button",{attrs:{appearance:"primary"},on:{click:function(s){return t.$router.push("/dashboard/scripts/install/"+e.slug+"?plan_id="+e.plan._id)}}},[t._v("重新订阅")])],1):t._e(),t._v(" "),e.hasUpdate?s("div",{staticClass:"px-1"},[s("Button",{attrs:{appearance:"primary","is-loading":!t.isJoined||t.isSubmitting},on:{click:function(s){return t.update(e._id)}}},[t._v("更新脚本")])],1):t._e(),t._v(" "),e.useForTask?s("div",{staticClass:"px-1"},[s("Button",{attrs:{appearance:"primary"},on:{click:function(s){return t.$router.push("/dashboard/jobs/create?slug="+e.slug)}}},[t._v("发布新工作")])],1):t._e()])]),t._v(" "),s("section",{staticClass:"border-t border-ui-03 px-4 py-3 flex items-center justify-center sm:justify-end flex-wrap"},[0===t.robotCount?s("div",{staticClass:"text-sm text-support-02 cursor-pointer flex items-center hover:opacity-75 transition duration-200 ease-in-out",on:{click:function(e){return t.$router.push("/dashboard/robots")}}},[s("svg",{staticClass:"fill-current h-5 min-w-5 mr-1",attrs:{viewBox:"0 0 24 24"}},[s("path",{attrs:{d:"M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2zm0 5a.75.75 0 0 0-.743.648l-.007.102v3.5h-3.5a.75.75 0 0 0-.102 1.493l.102.007h3.5v3.5a.75.75 0 0 0 1.493.102l.007-.102v-3.5h3.5a.75.75 0 0 0 .102-1.493l-.102-.007h-3.5v-3.5A.75.75 0 0 0 12 7z"}})]),t._v(" "),s("span",[t._v("添加机器人")])]):0===t.onlines.length?s("div",{staticClass:"text-sm text-support-03 select-none"},[t._v("\n                机器人已离线\n              ")]):e.expired?s("div",{staticClass:"text-sm text-support-03 select-none"},[t._v("\n                脚本已过期\n              ")]):s("div",{staticClass:"flex items-center"},[s("div",[1===t.robotCount?s("Button",{attrs:{"is-loading":!t.isJoined||t.isSubmitting,"is-disabled":0===t.onlines.length||e.expired,appearance:"default"},on:{click:function(s){return t.run(e._id,t.onlines[0].robots,a)}}},[t._v("\n                    运行\n                  ")]):s("Dropdown",{staticClass:"text-left",attrs:{label:"运行"},scopedSlots:t._u([{key:"trigger",fn:function(a){var i=a.toggle,n=a.isOpen;return s("div",{},[s("Button",{attrs:{"is-loading":!t.isJoined||t.isSubmitting,"is-disabled":0===t.onlines.length||e.expired,"is-selected":n,appearance:"default"},on:{click:i}},[t._v("\n                        运行\n                      ")])],1)}}],null,!0)},[t._v(" "),t._l(t.onlines,(function(i){return s("DropdownItem",{key:i._id,on:{click:function(s){return t.run(e._id,i.robots,a)}}},[s("div",{staticClass:"inline-flex items-center"},[i.isTag?s("svg",{staticClass:"fill-current h-5 min-w-5 opacity-50 mr-2",attrs:{viewBox:"0 0 20 20"}},[s("path",{attrs:{d:"M11.13 2l4.89.032A2 2 0 0 1 18 3.881l.006.148.008 4.95a2 2 0 0 1-.467 1.287l-.119.13-6.63 6.631a2 2 0 0 1-2.702.117l-.127-.117L3.02 12.08a2 2 0 0 1-.115-2.703l.117-.127 6.682-6.665a2 2 0 0 1 1.248-.577L11.13 2zm-.007 1a1 1 0 0 0-.613.205l-.1.087-6.682 6.665a1 1 0 0 0-.084 1.32l.083.095 4.949 4.948a1 1 0 0 0 1.32.083l.094-.083 6.63-6.63a1 1 0 0 0 .285-.578l.009-.131-.008-4.95a1 1 0 0 0-.877-.992l-.116-.007L11.123 3zM14 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"}})]):t._e(),t._v(" "),s("span",[t._v(t._s(i.name))]),t._v(" "),i.isTag&&i.count>1?s("span",{staticClass:"ml-1"},[s("Tag",{attrs:{label:i.count,color:"blue-light"}})],1):t._e()])])}))],2)],1),t._v(" "),s("div",{staticClass:"ml-4"},[1===t.robotCount?s("Button",{attrs:{"is-loading":!t.isJoined||t.isSubmitting,"is-disabled":0===t.onlines.length||e.expired,appearance:"subtle"},on:{click:function(s){return t.stop(e._id,t.onlines[0].robots)}}},[t._v("\n                    停止\n                  ")]):s("Dropdown",{staticClass:"text-left",attrs:{label:"停止"},scopedSlots:t._u([{key:"trigger",fn:function(a){var i=a.toggle,n=a.isOpen;return s("div",{},[s("Button",{attrs:{"is-loading":!t.isJoined||t.isSubmitting,"is-disabled":0===t.onlines.length||e.expired,"is-selected":n,appearance:"subtle"},on:{click:i}},[t._v("\n                        停止\n                      ")])],1)}}],null,!0)},[t._v(" "),t._l(t.onlines,(function(a){return s("DropdownItem",{key:a._id,on:{click:function(s){return t.stop(e._id,a.robots)}}},[s("div",{staticClass:"inline-flex items-center"},[a.isTag?s("svg",{staticClass:"fill-current h-5 min-w-5 opacity-50 mr-2",attrs:{viewBox:"0 0 20 20"}},[s("path",{attrs:{d:"M11.13 2l4.89.032A2 2 0 0 1 18 3.881l.006.148.008 4.95a2 2 0 0 1-.467 1.287l-.119.13-6.63 6.631a2 2 0 0 1-2.702.117l-.127-.117L3.02 12.08a2 2 0 0 1-.115-2.703l.117-.127 6.682-6.665a2 2 0 0 1 1.248-.577L11.13 2zm-.007 1a1 1 0 0 0-.613.205l-.1.087-6.682 6.665a1 1 0 0 0-.084 1.32l.083.095 4.949 4.948a1 1 0 0 0 1.32.083l.094-.083 6.63-6.63a1 1 0 0 0 .285-.578l.009-.131-.008-4.95a1 1 0 0 0-.877-.992l-.116-.007L11.123 3zM14 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"}})]):t._e(),t._v(" "),s("span",[t._v(t._s(a.name))]),t._v(" "),a.isTag&&a.count>1?s("span",{staticClass:"ml-1"},[s("Tag",{attrs:{label:a.count,color:"blue-light"}})],1):t._e()])])}))],2)],1)]),t._v(" "),s("div",{staticClass:"ml-4"},[s("Button",{attrs:{appearance:"subtle"},on:{click:function(e){return t.openEditModal(a)}}},[t._v("编辑\n                ")])],1)])])})),0):s("div",{staticClass:"flex flex-col items-center justify-center my-24"},[s("span",{staticClass:"text-text-02"},[t._v("还没有安装任何脚本")]),t._v(" "),s("div",{staticClass:"mt-8"},[s("nuxt-link",{attrs:{to:"/marketplace"}},[s("Button",{attrs:{appearance:"primary",spacing:"large"}},[s("span",{staticClass:"px-4"},[t._v("浏览脚本市场")])])],1)],1)])]),t._v(" "),s("div",{staticClass:"py-2"},[s("svg",{staticClass:"fill-current h-12 min-w-12 -ml-1 mb-1 text-text-05",attrs:{viewBox:"0 0 24 24"}},[s("path",{attrs:{d:"M12 2c5.523 0 10 4.478 10 10s-4.477 10-10 10S2 17.522 2 12 6.477 2 12 2zm0 1.667c-4.595 0-8.333 3.738-8.333 8.333 0 4.595 3.738 8.333 8.333 8.333 4.595 0 8.333-3.738 8.333-8.333 0-4.595-3.738-8.333-8.333-8.333zM12 15.5a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm0-8.75a2.75 2.75 0 0 1 2.75 2.75c0 1.01-.297 1.574-1.051 2.359l-.169.171c-.622.622-.78.886-.78 1.47a.75.75 0 0 1-1.5 0c0-1.01.297-1.574 1.051-2.359l.169-.171c.622-.622.78-.886.78-1.47a1.25 1.25 0 0 0-2.493-.128l-.007.128a.75.75 0 0 1-1.5 0A2.75 2.75 0 0 1 12 6.75z"}})]),t._v(" "),s("p",[t._v("遇到问题？")]),t._v(" "),s("div",{staticClass:"-mx-3 -mb-2"},[s("nuxt-link",{attrs:{to:"/faq"}},[s("Button",{attrs:{appearance:"link"}},[t._v("查看常见问题 →")])],1)],1),t._v(" "),s("div",{staticClass:"-mx-3 -mb-2"},[s("nuxt-link",{attrs:{to:"/dashboard/issues/create"}},[s("Button",{attrs:{appearance:"link"}},[t._v("反馈给脚本作者 →")])],1)],1),t._v(" "),s("div",{staticClass:"-mx-3 -mb-2"},[s("nuxt-link",{attrs:{to:"/dashboard/issues/create?subject=报告问题"}},[s("Button",{attrs:{appearance:"link"}},[t._v("反馈给平台 →")])],1)],1)]),t._v(" "),s("div",{staticClass:"py-2"},[s("p",[t._v("开发者？发布脚本到脚本市场")]),t._v(" "),s("nuxt-link",{staticClass:"-mx-3",attrs:{to:"/dashboard/scripts/console"}},[s("Button",{attrs:{appearance:"link"}},[t._v("前往脚本控制台 →")])],1)],1)],1),t._v(" "),s("div",{staticClass:"w-full sm:w-4/12 ml-0 sm:ml-12 mt-12 sm:mt-0"},[s("h2",{staticClass:"text-xl mb-4"},[t._v("最近更新")]),t._v(" "),s("div",{staticClass:"mt-4 flex flex-col"},t._l(t.recently,(function(e,a){return s("nuxt-link",{key:a,staticClass:"mb-4 focus:outline-none inline-flex text-text-01 hover:text-text-02 transition duration-200 ease-in-out",attrs:{to:"/marketplace/"+e.slug}},[s("AppIcon",{staticClass:"mr-3 w-10 h-10",attrs:{icon:e.icon,size:"small"}}),t._v(" "),s("div",{staticClass:"inline-flex flex-col justify-center -mt-1"},[s("span",[t._v("\n              "+t._s(e.name)+"\n            ")]),t._v(" "),s("span",{staticClass:"text-text-03 text-xs"},[t._v("\n              "+t._s(e.version)+"\n            ")])])],1)})),1),t._v(" "),s("div",{staticClass:"py-2"},[s("nuxt-link",{staticClass:"-mx-3",attrs:{to:"/marketplace"}},[s("Button",{attrs:{appearance:"link"}},[t._v("前往脚本市场 →")])],1)],1)]),t._v(" "),t.showEditModal?s("ConfigModal",{attrs:{heading:"编辑配置",subheading:t.name},on:{cancel:function(e){t.showEditModal=!1}}},[s("div",{attrs:{slot:"content"},slot:"content"},[0===t.formSchema.length?s("span",{staticClass:"text-text-02"},[t._v("脚本没有提供配置")]):s("Dropdown",{staticClass:"mb-4",attrs:{label:"历史配置",isDisabled:0===t.formValueList.length}},t._l(t.formValueList,(function(e,a){return s("DropdownItem",{key:a,on:{click:function(s){return t.applyValues(e.values)}}},[t._v(t._s(e.name||e.updatedAt))])})),1),t._v(" "),s("FormulateForm",{attrs:{name:"configForm",schema:t.formSchema},on:{submit:t.save},model:{value:t.formValues,callback:function(e){t.formValues=e},expression:"formValues"}})],1),t._v(" "),s("div",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[s("Button",{attrs:{appearance:"primary","is-loading":!t.isJoined||t.isSubmitting},on:{click:function(e){return t.$formulate.submit("configForm")}}},[t._v("\n          保存\n        ")]),t._v(" "),s("Button",{attrs:{appearance:"subtle"},on:{click:function(e){t.showEditModal=!1}}},[t._v("\n          取消\n        ")])],1),t._v(" "),s("Popconfirm",{attrs:{slot:"danger",title:"请确认是否要删除？",placement:"top-start",appearance:"danger",confirmText:"删除"},on:{confirm:t.remove},slot:"danger",scopedSlots:t._u([{key:"trigger",fn:function(e){var a=e.toggle,i=e.isOpen;return s("div",{},[s("Button",{attrs:{"is-selected":i,appearance:"danger","is-loading":!t.isJoined||t.isSubmitting},on:{click:a}},[t._v("\n            删除\n          ")])],1)}}],null,!1,3879016314)})],1):t._e(),t._v(" "),t.showCancelSubscriptionModal?s("Modal",{attrs:{heading:"取消订阅","auto-focus":"",appearance:"warning"},on:{cancel:function(e){t.showCancelSubscriptionModal=!1}}},[t.cancelSubscriptionItem?s("div",{attrs:{slot:"content"},slot:"content"},[new Date(t.cancelSubscriptionItem.plan.freeTrialExpiresAt)>new Date?s("div",{staticClass:"mb-4 bg-b50 px-3 py-2 rounded border border-b100 text-sm text-b500"},[t._v("\n          你的免费试用期还有\n          "),s("span",{staticClass:"font-bold"},[t._v(t._s(t.distance(t.cancelSubscriptionItem.plan.freeTrialExpiresAt)))])]):t._e(),t._v(" "),s("p",{staticClass:"mb-2 flex items-center"},[s("AppIcon",{staticClass:"w-6 h-6",attrs:{icon:t.cancelSubscriptionItem.icon,size:"small"}}),t._v(" "),s("span",{staticClass:"mx-2 flex-shrink-0"},[t._v(t._s(t.cancelSubscriptionItem.name))]),t._v(" "),s("span",{staticClass:"text-text-02 truncate"},[t._v(t._s(t.cancelSubscriptionItem.version))])],1),t._v(" "),s("div",{staticClass:"mb-4"},[s("p",{staticClass:"mb-2"},[t._v("脚本运行不正常？不妨先反馈给开发者处理。")]),t._v(" "),s("div",{staticClass:"w-full flex justify-center"},[s("Button",{attrs:{appearance:"primary",spacing:"large"},on:{click:function(e){return t.$router.push("/dashboard/issues/create?slug="+t.cancelSubscriptionItem.slug)}}},[s("span",{staticClass:"px-4"},[t._v("反馈脚本问题")])])],1)]),t._v(" "),s("p",[t._v("\n          取消订阅会删除脚本及配置，同时结束试用，此操作不可撤销，请确认是否要取消订阅？\n        ")])]):t._e(),t._v(" "),s("div",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[s("Button",{attrs:{appearance:"danger","is-loading":!t.isJoined||t.isSubmitting},on:{click:function(e){return t.cancelSubscription()}}},[t._v("取消订阅")]),t._v(" "),s("Button",{attrs:{appearance:"subtle"},on:{click:function(e){t.showCancelSubscriptionModal=!1}}},[t._v("暂不")])],1)]):t._e(),t._v(" "),t.showQaModal?s("Modal",{attrs:{heading:"常见问题","auto-focus":"",closeOnEsc:!1},on:{cancel:function(e){t.showQaModal=!1}}},[s("div",{attrs:{slot:"content"},slot:"content"},[s("Faq")],1),t._v(" "),s("div",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[s("Button",{attrs:{appearance:"primary","is-loading":!t.isJoined||t.isSubmitting},on:{click:function(e){t.showQaModal=!1}}},[t._v("确认")])],1)]):t._e()],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-12"},[e("h1",{staticClass:"text-3xl"},[this._v("脚本")]),this._v(" "),e("p",[this._v("扩展机器人能力")])])}],!1,null,null,null);e.default=p.exports;installComponents(p,{Button:s(33).default,ScrollList:s(788).default,Modal:s(507).default,Header:s(180).default,AppIcon:s(506).default,Lozenge:s(574).default,Tag:s(486).default,DropdownItem:s(270).default,Dropdown:s(269).default,DashDetailsLoader:s(550).default,Popconfirm:s(544).default,ConfigModal:s(654).default,Faq:s(652).default})}}]);